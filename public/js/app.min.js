(function ($) {	
  $(document).ready(function() {

    if ($('#articleDisplay') !== undefined) {
        $.ajax({
          type: "GET",
          url: '/api/v1/posts/byNumber/6'
        }).done(function (data) {
          $.get('/js/templates/ArticleDisplay.mst', function (template) {
            var articles = {
              "articles" : data.data
            }
            
            var rendered = Mustache.render(template, articles);
            $('#articleDisplay').html(rendered);
          });
        
      });
    }
  		


  		
 });
 

 }(jQuery));
(function ($) { 
  $(document).ready(function() {

      /*
    |--------------------------------------------------------------------------
    | Pop up the Article Footer on Scroll
    |--------------------------------------------------------------------------
    |
    */
   
   if ($('#articleContent').length !== 0) { 
      $(document).scroll(function (e) {
        
        
        var y = $(this).scrollTop();    
        var articleContent = $('#articleContent').position().top;
        var siteFooter = $('#siteFooter').position().top;

        
         //Content past 200
         if (y > articleContent + 200) {
              $('#articleFooter').addClass('active');
              
              //Footer comes from bottom
              if (y + window.innerHeight > siteFooter) {
                $('#articleFooter').removeClass('active');  
              }
            
            } else {
              $('#articleFooter').removeClass('active');
            }
        });


      //Submit the mailchimp form;
      $('#mailChimpSubscribe').on('submit', function (e) {
        e.preventDefault();

      });
    }

  });
 }(jQuery));

  

  

(function ($) {	
  $(document).ready(function() {

      var url = window.location.href;
      var text = $('.callout').text();
      
      var buildLink = function(url) {
        return 'http://twitter.com/share?url='+ url + '&text=' + text + ' - @McDanielRDN';
      } 

      var popup = function (url, height, width) {
         window.open(url,'1429735674908','width='+width+',height='+height+',toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left=0,top=0');
      }

      $('.callout').append('<div class="callout__twitter"><i class="fa fa-twitter"></i> Tweet <div>')

      $('.callout__twitter').on('click', function (e) {
        e.preventDefault();
        popup(buildLink(url), 700, 500);
      })
  });
}( jQuery ));
(function ($) { 
  $(document).ready(function() {

		$('.collapsible').children('.collapsible-body').hide();

		$('.collapsible').children('.collapsible-header').on('click', function (e) {
			console.log('message');
			var next =  $(this).next('.collapsible-body')
			if (next.hasClass('active')) {
				next.removeClass('active').slideUp(500);
			} else {
				console.log('adding');
				next.addClass('active').slideDown(500);
			}
		})

  
  });
}( jQuery ));
(function ($) { 
  $(document).ready(function() {

    /**
     * Ajax for All Forms
    */
    $('form[data-remote]').on('submit', function (e) {
      e.preventDefault();
      var form = $(this);
      var method = form.find('input[name="method"]').val() || 'POST';
      var url = form.prop('action');


      $.ajax({
        type: method,
        url: url,
        data: form.serialize(),
        beforeSend: function () {
          showPreloader();
        }
      }).done(function () {
        showMessage('success');
      }).fail(function () {
          showMessage('error')
      })
    });


    //Submit on Modal Submit Button
    $('#modalSubmit').on('click tap', function (e) {
      $('form[data-remote]').submit();
    })




    /**
     * Show the Preloader
     * @return {DOM} 
     */
    var showPreloader = function () {
      $('.contact__submit').hide();
      $('.contact__preloader').show();
    };

    /**
     * Hide the Preloaded and SHow the Form
     * @return {DOM} 
     */
    var showFormButton = function () {
      $('.contact__submit').show();
      $('.contact__preloader').hide();
    }

    /**
     * Show the message based on Type
     * @param  {string} type 
     * @return {DOM}
     */
    var showMessage = function (type) { 
      var message = null;
     
      if (type === "success") {
        message = $('.contact__message').attr('data-success-message');
      } else {
        message = $('.contact__message').attr('data-error-message');
      }
      
      $('.contact__preloader').hide();
      $('.contact__message').html(message).show();
    }


 

    
    
  });
}( jQuery ));

  

(function ($) { 
  $(document).ready(function() {

  	$('#faqQuery').on('keyup', function (e) {
  		var query = $(e.target).val();
  		var _token = $(e.target).next('input').val();

      if (query === null) {
        $.ajax({
          type: "POST",
          url: 'api/v1/faqs/stared',
          data: { 
              'query' : query, 
              '_token' : _token 
           }
        }).done(function (data) {
            renderQuestion(data);
        });
      } else {
        $.ajax({
          type: "POST",
          url: 'api/v1/faqs/search',
          data: { 
              'query' : query, 
              '_token' : _token 
           }
        }).done(function (data) {
            renderQuestion(data);
        });
      }

  		
      var renderQuestion = function (data) {
          $.get('./js/templates/FaqQuestion.mst', function (template) {
            var faqs = {
              "faqs" : data
            }

            var rendered = Mustache.render(template, faqs);
            $('#faqQuestions').html(rendered);
          });
      }
  	})

  });
}( jQuery ));

  

/*
|--------------------------------------------------------------------------
| Javascript for Navigation
|--------------------------------------------------------------------------
|
|
*/
(function ($) {	
  $(document).ready(function() {

  /*
   |--------------------------------------------------------------------------
   | Main Menu
   |--------------------------------------------------------------------------
   |
   |
   */   

    /**
     * Make Logo click take you home
     */
    $('.logo').on('click', function () {
      window.location = "/";
    })

    

    /**
     * Open the Menu
     */
    $('#openMenu').on('click', function (e) {
      e.preventDefault();
      
      $(this).toggleClass('is-active');
      $('#navigation').toggleClass('is-active');
      $('.navigation__modal').toggleClass('is-active');
      $('body').toggleClass('nav-open');
    });


    /**
     * Close the Menu
     * @return 
     */
    $('.navigation__modal').on('click tap', function (e) {
      $(this).removeClass('is-active');
      $('#navigation').removeClass('is-active');
      $('#openMenu').removeClass('is-active');
      $('body').removeClass('nav-open');
    });


    /*
    |--------------------------------------------------------------------------
    | Drop Downs
    |--------------------------------------------------------------------------
    |
    |
    */
    var openMenu = null;

    //Have dropdowns operate on Click for Mobile.
    $('.Dropdown__trigger').on('tap', function (e) {
      e.preventDefault();
      var target = $(e.target);
      
      if (target.hasClass('Dropdown__link')) {
        dropDropDown($(this).attr('data-dropdown'));  
      } else {
        window.location = target.attr('href');
      }
      
    });

 
    /**
     * Drop the Dropdown
     * @param  {string} attr 
     * @return {DOM}      
     */
    var dropDropDown = function (attr) {
      var dropdown = $('#' + attr);

      if (dropdown.hasClass('is-active')) {
        dropdown.removeClass('is-active').slideUp(500);
      } else {
        dropdown.addClass('is-active').slideDown(500);
      }
    }


    /*
    |--------------------------------------------------------------------------
    | Scrolling Fixed Menu
    |--------------------------------------------------------------------------
    |
    |
    */

    //Add Fixed menu on Scroll  
    var lastScrollTop = 0;
    $(document).scroll(function (e) {
      var y = $(this).scrollTop();  
      var navigationOffset = $('#contentWrapper').position().top;
      
      var glued = $('#navigation').hasClass('glued');
      var fixed = $('#navigation').hasClass('fixed');

      if (y > navigationOffset-0 && !glued) {
        $('#navigation').addClass('fixed');
        $('body').addClass('nav-fixed');
      } else if (!glued) {
        $('#navigation').removeClass('fixed');
        $('body').removeClass('nav-fixed');
      }

      if (y > lastScrollTop && fixed && !glued) {   //downward Scroll
        $('#navigation').removeClass('in-view');  
        $('#quickNavigation').removeClass('in-view')
      } else if (!glued) { //updward scroll
        $('#navigation').addClass('in-view');
        $('#quickNavigation').addClass('in-view');
      }

      lastScrollTop = y;
    });




    

  });
}( jQuery ));


(function ($) {
	$(document).ready(function () {

		var phone = window.matchMedia("(max-width: 767px)");

		$('.package-trigger').on('click tap', function (e) {
			e.preventDefault()
			var service = $('#'  + $(this).attr('data-package'));
			
			if (phone.matches) {
				$('body').animate({ 
					scrollTop: service.offset().top 
				}, 1000);
			} else {
				if (service.hasClass('is-active')) {
					service.siblings().slideUp(500);
				} else {
					//Siblings
					service.siblings().slideUp(500);
					service.siblings().removeClass('is-active');
					//Service
					service.slideDown(500)
					service.addClass('is-active');
				}
			}
		});

	});
}( jQuery));
(function ($) {
	$(document).ready(function () {

		$('[data-service]').on('click tap', function (e) {
			e.preventDefault();
			$('#serviceInput').val($(this).attr('data-service'));
		})


	});
}(jQuery)) 

if (window.jQuery) {  
    // jQuery is loaded  
    
    //Initalize Materialize Shit here 
    $('.modal-trigger').leanModal();

    $('.modal-trigger').on('click tap', function () {
    	var id = $(this).attr('href')
    	$(id).openModal();
    });
	
	$('.scrollspy').scrollSpy();
  
      
	// $('.dropdown-button').dropdown({
	// 	beloworigin: true,
	// 	hover: true,
	// 	constrainwidth: false
	// });
	

	 $.ajaxSetup({
		headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').val() }
	 });


	 
	 

} else {
    console.log('jquery is not loaded');
}
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ShareButton=e()}}(function(){return function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){e("../../modules/es6.array.iterator"),t.exports=e("../../modules/$.core").Array.values},{"../../modules/$.core":6,"../../modules/es6.array.iterator":34}],2:[function(e,t,n){e("../../modules/es6.math.trunc"),t.exports=e("../../modules/$.core").Math.trunc},{"../../modules/$.core":6,"../../modules/es6.math.trunc":35}],3:[function(e,t,n){e("../../modules/es6.symbol"),t.exports=e("../../modules/$.core").Symbol},{"../../modules/$.core":6,"../../modules/es6.symbol":36}],4:[function(e,t,n){var o=e("./$.is-object");t.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},{"./$.is-object":17}],5:[function(e,t,n){var o={}.toString;t.exports=function(e){return o.call(e).slice(8,-1)}},{}],6:[function(e,t,n){var o=t.exports={version:"1.2.3"};"number"==typeof __e&&(__e=o)},{}],7:[function(e,t,n){var o=e("./$.global"),i=e("./$.core"),r=e("./$.hide"),s=e("./$.redef"),a="prototype",c=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t,n){var l,f,d,h,p=e&u.G,g=e&u.P,y=p?o:e&u.S?o[t]||(o[t]={}):(o[t]||{})[a],m=p?i:i[t]||(i[t]={});p&&(n=t);for(l in n)f=!(e&u.F)&&y&&l in y,d=(f?y:n)[l],h=e&u.B&&f?c(d,o):g&&"function"==typeof d?c(Function.call,d):d,y&&!f&&s(y,l,d),m[l]!=d&&r(m,l,h),g&&((m[a]||(m[a]={}))[l]=d)};o.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,t.exports=u},{"./$.core":6,"./$.global":12,"./$.hide":14,"./$.redef":26}],8:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],9:[function(e,t,n){var o=e("./$");t.exports=function(e){var t=o.getKeys(e),n=o.getSymbols;if(n)for(var i,r=n(e),s=o.isEnum,a=0;r.length>a;)s.call(e,i=r[a++])&&t.push(i);return t}},{"./$":22}],10:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],11:[function(e,t,n){var o={}.toString,i=e("./$.to-iobject"),r=e("./$").getNames,s="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(t){return s.slice()}};t.exports.get=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},{"./$":22,"./$.to-iobject":30}],12:[function(e,t,n){var o=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},{}],13:[function(e,t,n){var o={}.hasOwnProperty;t.exports=function(e,t){return o.call(e,t)}},{}],14:[function(e,t,n){var o=e("./$"),i=e("./$.property-desc");t.exports=e("./$.support-desc")?function(e,t,n){return o.setDesc(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./$":22,"./$.property-desc":25,"./$.support-desc":28}],15:[function(e,t,n){var o=e("./$.cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},{"./$.cof":5}],16:[function(e,t,n){var o=e("./$.cof");t.exports=Array.isArray||function(e){return"Array"==o(e)}},{"./$.cof":5}],17:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],18:[function(e,t,n){"use strict";var o=e("./$"),i={};e("./$.hide")(i,e("./$.wks")("iterator"),function(){return this}),t.exports=function(t,n,r){t.prototype=o.create(i,{next:e("./$.property-desc")(1,r)}),e("./$.tag")(t,n+" Iterator")}},{"./$":22,"./$.hide":14,"./$.property-desc":25,"./$.tag":29,"./$.wks":33}],19:[function(e,t,n){"use strict";var o=e("./$.library"),i=e("./$.def"),r=e("./$.redef"),s=e("./$.hide"),a=e("./$.has"),c=e("./$.wks")("iterator"),u=e("./$.iterators"),l=!([].keys&&"next"in[].keys()),f="@@iterator",d="keys",h="values",p=function(){return this};t.exports=function(t,n,g,y,m,v,b){e("./$.iter-create")(g,n,y);var k,w,$=function(e){switch(e){case d:return function(){return new g(this,e)};case h:return function(){return new g(this,e)}}return function(){return new g(this,e)}},_=n+" Iterator",S=t.prototype,j=S[c]||S[f]||m&&S[m],x=j||$(m);if(j){var O=e("./$").getProto(x.call(new t));e("./$.tag")(O,_,!0),!o&&a(S,f)&&s(O,c,p)}if((!o||b)&&s(S,c,x),u[n]=x,u[_]=p,m)if(k={values:m==h?x:$(h),keys:v?x:$(d),entries:m!=h?x:$("entries")},b)for(w in k)w in S||r(S,w,k[w]);else i(i.P+i.F*l,n,k)}},{"./$":22,"./$.def":7,"./$.has":13,"./$.hide":14,"./$.iter-create":18,"./$.iterators":21,"./$.library":24,"./$.redef":26,"./$.tag":29,"./$.wks":33}],20:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],21:[function(e,t,n){t.exports={}},{}],22:[function(e,t,n){var o=Object;t.exports={create:o.create,getProto:o.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:o.getOwnPropertyDescriptor,setDesc:o.defineProperty,setDescs:o.defineProperties,getKeys:o.keys,getNames:o.getOwnPropertyNames,getSymbols:o.getOwnPropertySymbols,each:[].forEach}},{}],23:[function(e,t,n){var o=e("./$"),i=e("./$.to-iobject");t.exports=function(e,t){for(var n,r=i(e),s=o.getKeys(r),a=s.length,c=0;a>c;)if(r[n=s[c++]]===t)return n}},{"./$":22,"./$.to-iobject":30}],24:[function(e,t,n){t.exports=!1},{}],25:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],26:[function(e,t,n){var o=e("./$.global"),i=e("./$.hide"),r=e("./$.uid")("src"),s="toString",a=Function[s],c=(""+a).split(s);e("./$.core").inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,n,s){"function"==typeof n&&(n.hasOwnProperty(r)||i(n,r,e[t]?""+e[t]:c.join(String(t))),n.hasOwnProperty("name")||i(n,"name",t)),e===o?e[t]=n:(s||delete e[t],i(e,t,n))})(Function.prototype,s,function(){return"function"==typeof this&&this[r]||a.call(this)})},{"./$.core":6,"./$.global":12,"./$.hide":14,"./$.uid":31}],27:[function(e,t,n){var o=e("./$.global"),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(e){return r[e]||(r[e]={})}},{"./$.global":12}],28:[function(e,t,n){t.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":10}],29:[function(e,t,n){var o=e("./$").setDesc,i=e("./$.has"),r=e("./$.wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},{"./$":22,"./$.has":13,"./$.wks":33}],30:[function(e,t,n){var o=e("./$.iobject"),i=e("./$.defined");t.exports=function(e){return o(i(e))}},{"./$.defined":8,"./$.iobject":15}],31:[function(e,t,n){var o=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++o+i).toString(36))}},{}],32:[function(e,t,n){var o=e("./$.wks")("unscopables");void 0==[][o]&&e("./$.hide")(Array.prototype,o,{}),t.exports=function(e){[][o][e]=!0}},{"./$.hide":14,"./$.wks":33}],33:[function(e,t,n){var o=e("./$.shared")("wks"),i=e("./$.global").Symbol;t.exports=function(t){return o[t]||(o[t]=i&&i[t]||(i||e("./$.uid"))("Symbol."+t))}},{"./$.global":12,"./$.shared":27,"./$.uid":31}],34:[function(e,t,n){"use strict";var o=e("./$.unscope"),i=e("./$.iter-step"),r=e("./$.iterators"),s=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},{"./$.iter-define":19,"./$.iter-step":20,"./$.iterators":21,"./$.to-iobject":30,"./$.unscope":32}],35:[function(e,t,n){var o=e("./$.def");o(o.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./$.def":7}],36:[function(e,t,n){"use strict";var o=e("./$"),i=e("./$.global"),r=e("./$.has"),s=e("./$.support-desc"),a=e("./$.def"),c=e("./$.redef"),u=e("./$.fails"),l=e("./$.shared"),f=e("./$.tag"),d=e("./$.uid"),h=e("./$.wks"),p=e("./$.keyof"),g=e("./$.get-names"),y=e("./$.enum-keys"),m=e("./$.is-array"),v=e("./$.an-object"),b=e("./$.to-iobject"),k=e("./$.property-desc"),w=o.getDesc,$=o.setDesc,_=o.create,S=g.get,j=i.Symbol,x=i.JSON,O=x&&x.stringify,C=!1,P=h("_hidden"),L=o.isEnum,E=l("symbol-registry"),F=l("symbols"),A="function"==typeof j,I=Object.prototype,N=s&&u(function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=w(I,t);o&&delete I[t],$(e,t,n),o&&e!==I&&$(I,t,o)}:$,T=function(e){var t=F[e]=_(j.prototype);return t._k=e,s&&C&&N(I,e,{configurable:!0,set:function(t){r(this,P)&&r(this[P],e)&&(this[P][e]=!1),N(this,e,k(1,t))}}),t},B=function(e){return"symbol"==typeof e},D=function(e,t,n){return n&&r(F,t)?(n.enumerable?(r(e,P)&&e[P][t]&&(e[P][t]=!1),n=_(n,{enumerable:k(0,!1)})):(r(e,P)||$(e,P,k(1,{})),e[P][t]=!0),N(e,t,n)):$(e,t,n)},M=function(e,t){v(e);for(var n,o=y(t=b(t)),i=0,r=o.length;r>i;)D(e,n=o[i++],t[n]);return e},H=function(e,t){return void 0===t?_(e):M(_(e),t)},q=function(e){var t=L.call(this,e);return t||!r(this,e)||!r(F,e)||r(this,P)&&this[P][e]?t:!0},W=function(e,t){var n=w(e=b(e),t);return!n||!r(F,t)||r(e,P)&&e[P][t]||(n.enumerable=!0),n},z=function(e){for(var t,n=S(b(e)),o=[],i=0;n.length>i;)r(F,t=n[i++])||t==P||o.push(t);return o},U=function(e){for(var t,n=S(b(e)),o=[],i=0;n.length>i;)r(F,t=n[i++])&&o.push(F[t]);return o},R=function(e){for(var t,n,o=[e],i=1,r=arguments;r.length>i;)o.push(r[i++]);return t=o[1],"function"==typeof t&&(n=t),(n||!m(t))&&(t=function(e,t){return n&&(t=n.call(this,e,t)),B(t)?void 0:t}),o[1]=t,O.apply(x,o)},J=u(function(){var e=j();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))});A||(j=function(){if(B(this))throw TypeError("Symbol is not a constructor");return T(d(arguments.length>0?arguments[0]:void 0))},c(j.prototype,"toString",function(){return this._k}),B=function(e){return e instanceof j},o.create=H,o.isEnum=q,o.getDesc=W,o.setDesc=D,o.setDescs=M,o.getNames=g.get=z,o.getSymbols=U,s&&!e("./$.library")&&c(I,"propertyIsEnumerable",q,!0));var G={"for":function(e){return r(E,e+="")?E[e]:E[e]=j(e)},keyFor:function(e){return p(E,e)},useSetter:function(){C=!0},useSimple:function(){C=!1}};o.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=h(e);G[e]=A?t:T(t)}),C=!0,a(a.G+a.W,{Symbol:j}),a(a.S,"Symbol",G),a(a.S+a.F*!A,"Object",{create:H,defineProperty:D,defineProperties:M,getOwnPropertyDescriptor:W,getOwnPropertyNames:z,getOwnPropertySymbols:U}),x&&a(a.S+a.F*(!A||J),"JSON",{stringify:R}),f(j,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},{"./$":22,"./$.an-object":4,"./$.def":7,"./$.enum-keys":9,"./$.fails":10,"./$.get-names":11,"./$.global":12,"./$.has":13,"./$.is-array":16,"./$.keyof":23,"./$.library":24,"./$.property-desc":25,"./$.redef":26,"./$.shared":27,"./$.support-desc":28,"./$.tag":29,"./$.to-iobject":30,"./$.uid":31,"./$.wks":33}],37:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(e,t,n){for(var o=!0;o;){var i=e,r=t,s=n;o=!1,null===i&&(i=Function.prototype);var a=Object.getOwnPropertyDescriptor(i,r);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(s)}var u=Object.getPrototypeOf(i);if(null===u)return void 0;e=u,t=r,n=s,o=!0,a=u=void 0}},c=e("./share-utils"),u=o(c);e("core-js/fn/symbol"),e("core-js/fn/array/iterator"),e("core-js/fn/math/trunc");var l=function(e){function t(e,n){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),"object"==typeof e?(this.element=void 0,n=e):this.element=e,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabledNetworks:0,protocol:"//",url:window.location.href,caption:null,title:this._defaultTitle(),image:this._defaultImage(),description:this._defaultDescription(),ui:{flyout:"sb-top sb-center",buttonText:"Share",namespace:"sb-",networkOrder:[],collision:!1},networks:{googlePlus:{enabled:!0,url:null},twitter:{enabled:!0,url:null,description:null},facebook:{enabled:!0,loadSdk:!0,url:null,appId:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},reddit:{enabled:!0,url:null,title:null},linkedin:{enabled:!0,url:null,title:null,description:null},whatsapp:{enabled:!0,description:null,url:null},email:{enabled:!0,title:null,description:null}}},this.listener=null,this._setup(this.element,n)}return r(t,e),s(t,[{key:"open",value:function(){this._public("Open")}},{key:"close",value:function(){this._public("Close")}},{key:"toggle",value:function(){this._public("Toggle")}},{key:"toggleListen",value:function(){this._public("Listen")}},{key:"_public",value:function(e){var n=void 0;n="undefined"==typeof element?a(Object.getPrototypeOf(t.prototype),"_objToArray",this).call(this,document.getElementsByTagName("share-button")):document.querySelectorAll(element);var o=!0,i=!1,r=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=u.getElementsByClassName(this.config.ui.namespace+"social")[0];this["_event"+e](u,l)}}catch(f){i=!0,r=f}finally{try{!o&&c["return"]&&c["return"]()}finally{if(i)throw r}}}},{key:"_setup",value:function(e,n){var o=void 0;"undefined"==typeof e?o=a(Object.getPrototypeOf(t.prototype),"_objToArray",this).call(this,document.getElementsByTagName("share-button")):(o=document.querySelectorAll("share-button"+e),"object"==typeof o&&(o=a(Object.getPrototypeOf(t.prototype),"_objToArray",this).call(this,o))),this._merge(this.config,n),this.config.networks.whatsapp.enabled&&!this._isMobile()&&(this.config.networks.whatsapp.enabled=!1),0===this.config.ui.networkOrder.length&&(this.config.ui.networkOrder=["pinterest","twitter","facebook","whatsapp","googlePlus","reddit","linkedin","email"]);var i=!0,r=!1,s=void 0;try{for(var c,u=Object.keys(this.config.networks)[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;this.config.ui.networkOrder.indexOf(l.toString())<0&&(this.config.networks[l].enabled=!1,this.config.ui.networkOrder.push(l))}}catch(f){r=!0,s=f}finally{try{!i&&u["return"]&&u["return"]()}finally{if(r)throw s}}this._fixFlyout(),this._detectNetworks(),this._normalizeNetworkConfiguration(),this.config.networks.facebook.enabled&&this.config.networks.facebook.loadSdk&&this._injectFacebookSdk();var d=0,h=!0,p=!1,g=void 0;try{for(var y,m=o[Symbol.iterator]();!(h=(y=m.next()).done);h=!0){var v=y.value;this._setupInstance(v,d++)}}catch(f){p=!0,g=f}finally{try{!h&&m["return"]&&m["return"]()}finally{if(p)throw g}}}},{key:"_setupInstance",value:function(e,t){var n=this;this._hide(e),this._addClass(e,"sharer-"+t),this._injectHtml(e),this._show(e);var o=e.getElementsByClassName(this.config.ui.namespace+"social")[0],i=e.getElementsByTagName("li");this._addClass(o,"networks-"+this.config.enabledNetworks),e.addEventListener("click",function(){return n._eventToggle(e,o)});var r=function(t){var o=i[t];"undefined"!=typeof o&&!function(){var t=o.getAttribute("data-network"),i=o.getElementsByTagName("a")[0];n._addClass(o,n.config.networks[t]["class"]),"email"!==o.className&&i.setAttribute("onclick","return false"),i.addEventListener("mousedown",function(){n._hook("before",t,e)}),i.addEventListener("mouseup",function(){n["_network"+t.capFLetter()](o)}),i.addEventListener("click",function(){n._hook("after",t,e)})}()};for(var s in Object.keys(i))r(s)}},{key:"_eventToggle",value:function(e,t){this._hasClass(t,"active")?this._eventClose(t):this._eventOpen(e,t)}},{key:"_eventOpen",value:function(e,t){this._hasClass(t,"load")&&this._removeClass(t,"load"),this.collision&&this._collisionDetection(e,t),this._addClass(t,"active")}},{key:"_eventClose",value:function(e){this._removeClass(e,"active")}},{key:"_eventListen",value:function(e,t){var n=this,o=this._getDimensions(e,t);null===this.listener?this.listener=window.setInterval(function(){return n._adjustClasses(e,t,o)},100):(window.clearInterval(this.listener),this.listener=null)}},{key:"_fixFlyout",value:function(){var e=this.config.ui.flyout.split(" ");e[0].substring(0,this.config.ui.namespace.length)!==this.config.ui.namespace&&(e[0]=""+this.config.ui.namespace+e[0]),e[1].substring(0,this.config.ui.namespace.length)!==this.config.ui.namespace&&(e[1]=""+this.config.ui.namespace+e[1]),this.config.ui.flyout=e.join(" ")}},{key:"_collisionDetection",value:function(e,t){var n=this,o=this._getDimensions(e,t);this._adjustClasses(e,t,o),e.classList.contains("clicked")||(window.addEventListener("scroll",function(){return n._adjustClasses(e,o)}),window.addEventListener("resize",function(){return n._adjustClasses(e,o)}),e.classList.add("clicked"))}},{key:"_getDimensions",value:function(e,t){return{networksWidth:t.offsetWidth,buttonHeight:e.offsetHeight,buttonWidth:e.offsetWidth}}},{key:"_adjustClasses",value:function(e,t,n){var o=window.innerWidth,i=window.innerHeight,r=e.getBoundingClientRect().left+n.buttonWidth/2,s=o-r,a=e.getBoundingClientRect().top+n.buttonHeight/2,c=this._findLocation(r,a,o,i);if("middle"===c[1]&&"center"!==c[0]&&("left"===c[0]&&o<=r+220+n.buttonWidth/2||"right"===c[0]&&o<=s+220+n.buttonWidth/2))t.classList.add(this.config.ui.namespace+"top"),t.classList.remove(this.config.ui.namespace+"middle"),t.classList.remove(this.config.ui.namespace+"bottom");else{switch(c[0]){case"left":t.classList.add(this.config.ui.namespace+"right"),t.classList.remove(this.config.ui.namespace+"center"),t.classList.remove(this.config.ui.namespace+"left");break;case"center":"top"!==c[1]&&t.classList.add(this.config.ui.namespace+"top"),t.classList.add(this.config.ui.namespace+"center"),t.classList.remove(this.config.ui.namespace+"left"),t.classList.remove(this.config.ui.namespace+"right"),t.classList.remove(this.config.ui.namespace+"middle");break;case"right":t.classList.add(this.config.ui.namespace+"left"),t.classList.remove(this.config.ui.namespace+"center"),t.classList.remove(this.config.ui.namespace+"right")}switch(c[1]){case"top":t.classList.add(this.config.ui.namespace+"bottom"),t.classList.remove(this.config.ui.namespace+"middle"),"center"!==c[0]&&t.classList.remove(this.config.ui.namespace+"top");break;case"middle":"center"!==c[0]&&(t.classList.add(this.config.ui.namespace+"middle"),t.classList.remove(this.config.ui.namespace+"top")),t.classList.remove(this.config.ui.namespace+"bottom");break;case"bottom":t.classList.add(this.config.ui.namespace+"top"),t.classList.remove(this.config.ui.namespace+"middle"),t.classList.remove(this.config.ui.namespace+"bottom")}}}},{key:"_findLocation",value:function(e,t,n,o){var i=["left","center","right"],r=["top","middle","bottom"],s=Math.trunc(3*(1-(n-e)/n)),a=Math.trunc(3*(1-(o-t)/o));return s>=3?s=2:-1>=s&&(s=0),a>=3?a=2:-1>=a&&(a=0),[i[s],r[a]]}},{key:"_networkFacebook",value:function(e){return this.config.networks.facebook.loadSdk?window.FB?(this._updateHref(e,"https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url}),FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description})):console.error("The Facebook JS SDK hasn't loaded yet."):this._updateHref(e,"https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})}},{key:"_networkTwitter",value:function(e){this._updateHref(e,"https://twitter.com/intent/tweet",{text:this.config.networks.twitter.description,url:this.config.networks.twitter.url})}},{key:"_networkGooglePlus",value:function(e){this._updateHref(e,"https://plus.google.com/share",{url:this.config.networks.googlePlus.url})}},{key:"_networkPinterest",value:function(e){this._updateHref(e,"https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})}},{key:"_networkLinkedin",value:function(e){this._updateHref(e,"https://www.linkedin.com/shareArticle",{mini:"true",url:this.config.networks.linkedin.url,title:this.config.networks.linkedin.title,summary:this.config.networks.linkedin.description})}},{key:"_networkEmail",value:function(e){this._updateHref(e,"mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.description})}},{key:"_networkReddit",value:function(e){this._updateHref(e,"http://www.reddit.com/submit",{url:this.config.networks.reddit.url,title:this.config.networks.reddit.title})}},{key:"_networkWhatsapp",value:function(e){this._updateHref(e,"whatsapp://send",{text:this.config.networks.whatsapp.description+" "+this.config.networks.whatsapp.url})}},{key:"_injectStylesheet",value:function(e){if(!this.el.head.querySelector("link[href='"+e+"']")){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),this.el.head.appendChild(t)}}},{key:"_injectHtml",value:function(e){var t=this.config.ui.networkOrder,n="",o=!0,i=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var c=s.value;n+="<li class='"+c+"' data-network='"+c+"'><a></a></li>"}}catch(u){i=!0,r=u}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}e.innerHTML=this.config.ui.buttonText+"<div class='"+this.config.ui.namespace+"social load "+this.config.ui.flyout+"'><ul>"+n+"</ul></div>"}},{key:"_injectFacebookSdk",value:function(){if(!window.FB&&this.config.networks.facebook.appId&&!this.el.body.querySelector("#fb-root")){var e=document.createElement("script");e.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.appId+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if (e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='//connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk');";var t=document.createElement("div");t.id="fb-root",this.el.body.appendChild(t),this.el.body.appendChild(e)}}},{key:"_hook",value:function(e,t,n){var o=this.config.networks[t][e];if("function"==typeof o){var i=o.call(this.config.networks[t],n);void 0!==i&&(i=this._normalizeFilterConfigUpdates(i),this.extend(this.config.networks[t],i,!0),this._normalizeNetworkConfiguration())}}},{key:"_defaultTitle",value:function(){var e=void 0;return(e=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))?e.getAttribute("content"):(e=document.querySelector("title"))?e.textContent||e.innerText:void 0}},{key:"_defaultImage",value:function(){var e=void 0;return(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):void 0}},{key:"_defaultDescription",value:function(){var e=void 0;return(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):""}},{key:"_detectNetworks",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,i=Object.keys(this.config.networks)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var r=o.value,s=!0,a=!1,c=void 0;try{for(var u,l=Object.keys(this.config.networks[r])[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var f=u.value;null===this.config.networks[r][f]&&(this.config.networks[r][f]=this.config[f])}}catch(d){a=!0,c=d}finally{try{!s&&l["return"]&&l["return"]()}finally{if(a)throw c}}this.config.networks[r].enabled?(this["class"]="enabled",this.config.enabledNetworks+=1):this["class"]="disabled",this.config.networks[r]["class"]=this["class"]}}catch(d){t=!0,n=d}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}},{key:"_normalizeNetworkConfiguration",value:function(){this.config.networks.facebook.appId||(this.config.networks.facebook.loadSdk=!1),this.config.networks.twitter.description&&(this._isEncoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description))),"number"==typeof this.config.networks.facebook.appId&&(this.config.networks.facebook.appId=this.config.networks.facebook.appId.toString())}},{key:"_normalizeFilterConfigUpdates",value:function(e){return this.config.networks.facebook.appId!==e.appId&&(console.warn("You are unable to change the Facebook appId after the button has been initialized. Please update your Facebook filters accordingly."),delete e.appId),this.config.networks.facebook.loadSdk!==e.loadSdk&&(console.warn("You are unable to change the Facebook loadSdk option after the button has been initialized. Please update your Facebook filters accordingly."),delete e.appId),e}}]),t}(u["default"]);t.exports=l},{"./share-utils":38,"core-js/fn/array/iterator":1,"core-js/fn/math/trunc":2,"core-js/fn/symbol":3}],38:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){o(this,e)}return i(e,[{key:"_getStyle",value:function(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}},{key:"_hide",value:function(e){e.style.display="none"}},{key:"_show",value:function(e){e.style.display="initial"}},{key:"_hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"_addClass",value:function(e,t){e.classList.add(t)}},{key:"_removeClass",value:function(e,t){e.classList.remove(t)}},{key:"_isEncoded",value:function(e){return e=e.toRFC3986(),decodeURIComponent(e)!==e}},{key:"_encode",value:function(e){return"undefined"==typeof e||null===e||this._isEncoded(e)?encodeURIComponent(e):e.toRFC3986()}},{key:"_getUrl",value:function(e){var t=this,n=(arguments.length<=1||void 0===arguments[1]?!1:arguments[1],arguments.length<=2||void 0===arguments[2]?{}:arguments[2]),o=function(){var e=[],o=!0,i=!1,r=void 0;try{for(var s,a=Object.keys(n)[Symbol.iterator]();!(o=(s=a.next()).done);o=!0){var c=s.value,u=n[c];e.push(c+"="+t._encode(u))}}catch(l){i=!0,r=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(i)throw r}}return e.join("&")}();return o&&(o="?"+o),e+o}},{key:"_updateHref",value:function(e,t,n){var o=t.indexOf("mailto:")>=0,i=e.getElementsByTagName("a")[0];if(i.setAttribute("href",this._getUrl(t,!o,n)),!(o||this.config.networks.facebook.loadSdk&&"facebook"===e.getAttribute("class"))){var r={width:500,height:350};r.top=screen.height/2-r.height/2,r.left=screen.width/2-r.width/2,window.open(i.href,"targetWindow","\n          toolbar=no,\n          location=no,\n          status=no,\n          menubar=no,\n          scrollbars=yes,\n          resizable=yes,\n          left="+r.left+",\n          top="+r.top+",\n          width="+r.width+",\n          height="+r.height+"\n        ")}}},{key:"popup",value:function t(e){var n=this,o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],t={width:500,height:350};t.top=screen.height/2-t.height/2,t.left=screen.width/2-t.width/2;var i=function(){var e=[],t=!0,i=!1,r=void 0;try{for(var s,a=Object.keys(o)[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var c=s.value,u=o[c];e.push(c+"="+n._encode(u))}}catch(l){i=!0,r=l}finally{try{!t&&a["return"]&&a["return"]()}finally{if(i)throw r}}return e.join("&")}();i&&(i="?"+i),window.open(e+i,"targetWindow","\n        toolbar=no,\n        location=no,\n        status=no,\n        menubar=no,\n        scrollbars=yes,\n        resizable=yes,\n        left="+t.left+",\n        top="+t.top+",\n        width="+t.width+",\n        height="+t.height+"\n      ")}},{key:"_merge",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){"object"!=typeof e&&(e={});for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if("object"==typeof o){e[n]=this._merge(e[n],o);continue}e[n]=o}for(var i=2,r=arguments.length;r>i;i++)_merge(e,arguments[i]);return e})},{key:"_objToArray",value:function(e){var t=[];for(var n in e)"object"==typeof e[n]&&t.push(e[n]);return t}},{key:"_isMobile",value:function(){return navigator.userAgent.match(/Android|iPhone|PhantomJS/i)&&!navigator.userAgent.match(/iPod|iPad/i)?!0:!1}}]),e}();String.prototype.toRFC3986=function(){var e=encodeURIComponent(this);e.replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},String.prototype.capFLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},n["default"]=r,t.exports=n["default"]},{}]},{},[37])(37)});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFydGljbGVEaXNwbGF5LmpzIiwiQXJ0aWNsZUZvb3Rlci5qcyIsIkNhbGxvdXQuanMiLCJDb2xsYXNwaWJsZS5qcyIsIkNvbnRhY3RBamF4LmpzIiwiRkFRQWpheC5qcyIsIk5hdmlnYXRpb24uanMiLCJQaW5CdXR0b24uanMiLCJTZXJ2aWNlcy5qcyIsIlNldE1vZGVsU2VydmljZS5qcyIsImZ1bGxzY3JlZW4uanMiLCJpbml0aWFsaXplLmpzIiwiU2hhcmVCdXR0b25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdElBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDVkE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0JBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1x0XG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKCQoJyNhcnRpY2xlRGlzcGxheScpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICAgIHVybDogJy9hcGkvdjEvcG9zdHMvYnlOdW1iZXIvNidcbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICQuZ2V0KCcvanMvdGVtcGxhdGVzL0FydGljbGVEaXNwbGF5Lm1zdCcsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGFydGljbGVzID0ge1xuICAgICAgICAgICAgICBcImFydGljbGVzXCIgOiBkYXRhLmRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBhcnRpY2xlcyk7XG4gICAgICAgICAgICAkKCcjYXJ0aWNsZURpc3BsYXknKS5odG1sKHJlbmRlcmVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICB9KTtcbiAgICB9XG4gIFx0XHRcblxuXG4gIFx0XHRcbiB9KTtcbiBcblxuIH0oalF1ZXJ5KSk7IiwiKGZ1bmN0aW9uICgkKSB7IFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgLypcbiAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB8IFBvcCB1cCB0aGUgQXJ0aWNsZSBGb290ZXIgb24gU2Nyb2xsXG4gICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgfFxuICAgICovXG4gICBcbiAgIGlmICgkKCcjYXJ0aWNsZUNvbnRlbnQnKS5sZW5ndGggIT09IDApIHsgXG4gICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB2YXIgeSA9ICQodGhpcykuc2Nyb2xsVG9wKCk7ICAgIFxuICAgICAgICB2YXIgYXJ0aWNsZUNvbnRlbnQgPSAkKCcjYXJ0aWNsZUNvbnRlbnQnKS5wb3NpdGlvbigpLnRvcDtcbiAgICAgICAgdmFyIHNpdGVGb290ZXIgPSAkKCcjc2l0ZUZvb3RlcicpLnBvc2l0aW9uKCkudG9wO1xuXG4gICAgICAgIFxuICAgICAgICAgLy9Db250ZW50IHBhc3QgMjAwXG4gICAgICAgICBpZiAoeSA+IGFydGljbGVDb250ZW50ICsgMjAwKSB7XG4gICAgICAgICAgICAgICQoJyNhcnRpY2xlRm9vdGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy9Gb290ZXIgY29tZXMgZnJvbSBib3R0b21cbiAgICAgICAgICAgICAgaWYgKHkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPiBzaXRlRm9vdGVyKSB7XG4gICAgICAgICAgICAgICAgJCgnI2FydGljbGVGb290ZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7ICBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKCcjYXJ0aWNsZUZvb3RlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgLy9TdWJtaXQgdGhlIG1haWxjaGltcCBmb3JtO1xuICAgICAgJCgnI21haWxDaGltcFN1YnNjcmliZScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICB9KTtcbiB9KGpRdWVyeSkpO1xuXG4gIFxuXG4gIFxuIiwiKGZ1bmN0aW9uICgkKSB7XHRcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgIHZhciB0ZXh0ID0gJCgnLmNhbGxvdXQnKS50ZXh0KCk7XG4gICAgICBcbiAgICAgIHZhciBidWlsZExpbmsgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgcmV0dXJuICdodHRwOi8vdHdpdHRlci5jb20vc2hhcmU/dXJsPScrIHVybCArICcmdGV4dD0nICsgdGV4dCArICcgLSBATWNEYW5pZWxSRE4nO1xuICAgICAgfSBcblxuICAgICAgdmFyIHBvcHVwID0gZnVuY3Rpb24gKHVybCwgaGVpZ2h0LCB3aWR0aCkge1xuICAgICAgICAgd2luZG93Lm9wZW4odXJsLCcxNDI5NzM1Njc0OTA4Jywnd2lkdGg9Jyt3aWR0aCsnLGhlaWdodD0nK2hlaWdodCsnLHRvb2xiYXI9MCxtZW51YmFyPTAsbG9jYXRpb249MCxzdGF0dXM9MSxzY3JvbGxiYXJzPTEscmVzaXphYmxlPTEsbGVmdD0wLHRvcD0wJyk7XG4gICAgICB9XG5cbiAgICAgICQoJy5jYWxsb3V0JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiY2FsbG91dF9fdHdpdHRlclwiPjxpIGNsYXNzPVwiZmEgZmEtdHdpdHRlclwiPjwvaT4gVHdlZXQgPGRpdj4nKVxuXG4gICAgICAkKCcuY2FsbG91dF9fdHdpdHRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcG9wdXAoYnVpbGRMaW5rKHVybCksIDcwMCwgNTAwKTtcbiAgICAgIH0pXG4gIH0pO1xufSggalF1ZXJ5ICkpOyIsIihmdW5jdGlvbiAoJCkgeyBcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cblx0XHQkKCcuY29sbGFwc2libGUnKS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWJvZHknKS5oaWRlKCk7XG5cblx0XHQkKCcuY29sbGFwc2libGUnKS5jaGlsZHJlbignLmNvbGxhcHNpYmxlLWhlYWRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnbWVzc2FnZScpO1xuXHRcdFx0dmFyIG5leHQgPSAgJCh0aGlzKS5uZXh0KCcuY29sbGFwc2libGUtYm9keScpXG5cdFx0XHRpZiAobmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHtcblx0XHRcdFx0bmV4dC5yZW1vdmVDbGFzcygnYWN0aXZlJykuc2xpZGVVcCg1MDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2FkZGluZycpO1xuXHRcdFx0XHRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKS5zbGlkZURvd24oNTAwKTtcblx0XHRcdH1cblx0XHR9KVxuXG4gIFxuICB9KTtcbn0oIGpRdWVyeSApKTsiLCIoZnVuY3Rpb24gKCQpIHsgXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQWpheCBmb3IgQWxsIEZvcm1zXG4gICAgKi9cbiAgICAkKCdmb3JtW2RhdGEtcmVtb3RlXScpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGZvcm0gPSAkKHRoaXMpO1xuICAgICAgdmFyIG1ldGhvZCA9IGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1ldGhvZFwiXScpLnZhbCgpIHx8ICdQT1NUJztcbiAgICAgIHZhciB1cmwgPSBmb3JtLnByb3AoJ2FjdGlvbicpO1xuXG5cbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgIGRhdGE6IGZvcm0uc2VyaWFsaXplKCksXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzaG93UHJlbG9hZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG93TWVzc2FnZSgnc3VjY2VzcycpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2hvd01lc3NhZ2UoJ2Vycm9yJylcbiAgICAgIH0pXG4gICAgfSk7XG5cblxuICAgIC8vU3VibWl0IG9uIE1vZGFsIFN1Ym1pdCBCdXR0b25cbiAgICAkKCcjbW9kYWxTdWJtaXQnKS5vbignY2xpY2sgdGFwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICQoJ2Zvcm1bZGF0YS1yZW1vdGVdJykuc3VibWl0KCk7XG4gICAgfSlcblxuXG5cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIFByZWxvYWRlclxuICAgICAqIEByZXR1cm4ge0RPTX0gXG4gICAgICovXG4gICAgdmFyIHNob3dQcmVsb2FkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcuY29udGFjdF9fc3VibWl0JykuaGlkZSgpO1xuICAgICAgJCgnLmNvbnRhY3RfX3ByZWxvYWRlcicpLnNob3coKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgUHJlbG9hZGVkIGFuZCBTSG93IHRoZSBGb3JtXG4gICAgICogQHJldHVybiB7RE9NfSBcbiAgICAgKi9cbiAgICB2YXIgc2hvd0Zvcm1CdXR0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkKCcuY29udGFjdF9fc3VibWl0Jykuc2hvdygpO1xuICAgICAgJCgnLmNvbnRhY3RfX3ByZWxvYWRlcicpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSBtZXNzYWdlIGJhc2VkIG9uIFR5cGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHR5cGUgXG4gICAgICogQHJldHVybiB7RE9NfVxuICAgICAqL1xuICAgIHZhciBzaG93TWVzc2FnZSA9IGZ1bmN0aW9uICh0eXBlKSB7IFxuICAgICAgdmFyIG1lc3NhZ2UgPSBudWxsO1xuICAgICBcbiAgICAgIGlmICh0eXBlID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICBtZXNzYWdlID0gJCgnLmNvbnRhY3RfX21lc3NhZ2UnKS5hdHRyKCdkYXRhLXN1Y2Nlc3MtbWVzc2FnZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9ICQoJy5jb250YWN0X19tZXNzYWdlJykuYXR0cignZGF0YS1lcnJvci1tZXNzYWdlJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgICQoJy5jb250YWN0X19wcmVsb2FkZXInKS5oaWRlKCk7XG4gICAgICAkKCcuY29udGFjdF9fbWVzc2FnZScpLmh0bWwobWVzc2FnZSkuc2hvdygpO1xuICAgIH1cblxuXG4gXG5cbiAgICBcbiAgICBcbiAgfSk7XG59KCBqUXVlcnkgKSk7XG5cbiAgXG4iLCIoZnVuY3Rpb24gKCQpIHsgXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gIFx0JCgnI2ZhcVF1ZXJ5Jykub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgXHRcdHZhciBxdWVyeSA9ICQoZS50YXJnZXQpLnZhbCgpO1xuICBcdFx0dmFyIF90b2tlbiA9ICQoZS50YXJnZXQpLm5leHQoJ2lucHV0JykudmFsKCk7XG5cbiAgICAgIGlmIChxdWVyeSA9PT0gbnVsbCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgIHVybDogJ2FwaS92MS9mYXFzL3N0YXJlZCcsXG4gICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgICAgJ3F1ZXJ5JyA6IHF1ZXJ5LCBcbiAgICAgICAgICAgICAgJ190b2tlbicgOiBfdG9rZW4gXG4gICAgICAgICAgIH1cbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmVuZGVyUXVlc3Rpb24oZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICB1cmw6ICdhcGkvdjEvZmFxcy9zZWFyY2gnLFxuICAgICAgICAgIGRhdGE6IHsgXG4gICAgICAgICAgICAgICdxdWVyeScgOiBxdWVyeSwgXG4gICAgICAgICAgICAgICdfdG9rZW4nIDogX3Rva2VuIFxuICAgICAgICAgICB9XG4gICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJlbmRlclF1ZXN0aW9uKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICBcdFx0XG4gICAgICB2YXIgcmVuZGVyUXVlc3Rpb24gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICQuZ2V0KCcuL2pzL3RlbXBsYXRlcy9GYXFRdWVzdGlvbi5tc3QnLCBmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBmYXFzID0ge1xuICAgICAgICAgICAgICBcImZhcXNcIiA6IGRhdGFcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBmYXFzKTtcbiAgICAgICAgICAgICQoJyNmYXFRdWVzdGlvbnMnKS5odG1sKHJlbmRlcmVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgXHR9KVxuXG4gIH0pO1xufSggalF1ZXJ5ICkpO1xuXG4gIFxuIiwiLypcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufCBKYXZhc2NyaXB0IGZvciBOYXZpZ2F0aW9uXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnxcbnxcbiovXG4oZnVuY3Rpb24gKCQpIHtcdFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAvKlxuICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICB8IE1haW4gTWVudVxuICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICB8XG4gICB8XG4gICAqLyAgIFxuXG4gICAgLyoqXG4gICAgICogTWFrZSBMb2dvIGNsaWNrIHRha2UgeW91IGhvbWVcbiAgICAgKi9cbiAgICAkKCcubG9nbycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL1wiO1xuICAgIH0pXG5cbiAgICBcblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIE1lbnVcbiAgICAgKi9cbiAgICAkKCcjb3Blbk1lbnUnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgXG4gICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICQoJyNuYXZpZ2F0aW9uJykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnLm5hdmlnYXRpb25fX21vZGFsJykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCduYXYtb3BlbicpO1xuICAgIH0pO1xuXG5cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgTWVudVxuICAgICAqIEByZXR1cm4gXG4gICAgICovXG4gICAgJCgnLm5hdmlnYXRpb25fX21vZGFsJykub24oJ2NsaWNrIHRhcCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKTtcbiAgICAgICQoJyNuYXZpZ2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnI29wZW5NZW51JykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCduYXYtb3BlbicpO1xuICAgIH0pO1xuXG5cbiAgICAvKlxuICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHwgRHJvcCBEb3duc1xuICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHxcbiAgICB8XG4gICAgKi9cbiAgICB2YXIgb3Blbk1lbnUgPSBudWxsO1xuXG4gICAgLy9IYXZlIGRyb3Bkb3ducyBvcGVyYXRlIG9uIENsaWNrIGZvciBNb2JpbGUuXG4gICAgJCgnLkRyb3Bkb3duX190cmlnZ2VyJykub24oJ3RhcCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gJChlLnRhcmdldCk7XG4gICAgICBcbiAgICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ0Ryb3Bkb3duX19saW5rJykpIHtcbiAgICAgICAgZHJvcERyb3BEb3duKCQodGhpcykuYXR0cignZGF0YS1kcm9wZG93bicpKTsgIFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gdGFyZ2V0LmF0dHIoJ2hyZWYnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0pO1xuXG4gXG4gICAgLyoqXG4gICAgICogRHJvcCB0aGUgRHJvcGRvd25cbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IGF0dHIgXG4gICAgICogQHJldHVybiB7RE9NfSAgICAgIFxuICAgICAqL1xuICAgIHZhciBkcm9wRHJvcERvd24gPSBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgdmFyIGRyb3Bkb3duID0gJCgnIycgKyBhdHRyKTtcblxuICAgICAgaWYgKGRyb3Bkb3duLmhhc0NsYXNzKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICBkcm9wZG93bi5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJykuc2xpZGVVcCg1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJvcGRvd24uYWRkQ2xhc3MoJ2lzLWFjdGl2ZScpLnNsaWRlRG93big1MDApO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLypcbiAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB8IFNjcm9sbGluZyBGaXhlZCBNZW51XG4gICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgfFxuICAgIHxcbiAgICAqL1xuXG4gICAgLy9BZGQgRml4ZWQgbWVudSBvbiBTY3JvbGwgIFxuICAgIHZhciBsYXN0U2Nyb2xsVG9wID0gMDtcbiAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB5ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTsgIFxuICAgICAgdmFyIG5hdmlnYXRpb25PZmZzZXQgPSAkKCcjY29udGVudFdyYXBwZXInKS5wb3NpdGlvbigpLnRvcDtcbiAgICAgIFxuICAgICAgdmFyIGdsdWVkID0gJCgnI25hdmlnYXRpb24nKS5oYXNDbGFzcygnZ2x1ZWQnKTtcbiAgICAgIHZhciBmaXhlZCA9ICQoJyNuYXZpZ2F0aW9uJykuaGFzQ2xhc3MoJ2ZpeGVkJyk7XG5cbiAgICAgIGlmICh5ID4gbmF2aWdhdGlvbk9mZnNldC0wICYmICFnbHVlZCkge1xuICAgICAgICAkKCcjbmF2aWdhdGlvbicpLmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ25hdi1maXhlZCcpO1xuICAgICAgfSBlbHNlIGlmICghZ2x1ZWQpIHtcbiAgICAgICAgJCgnI25hdmlnYXRpb24nKS5yZW1vdmVDbGFzcygnZml4ZWQnKTtcbiAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCduYXYtZml4ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHkgPiBsYXN0U2Nyb2xsVG9wICYmIGZpeGVkICYmICFnbHVlZCkgeyAgIC8vZG93bndhcmQgU2Nyb2xsXG4gICAgICAgICQoJyNuYXZpZ2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2luLXZpZXcnKTsgIFxuICAgICAgICAkKCcjcXVpY2tOYXZpZ2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2luLXZpZXcnKVxuICAgICAgfSBlbHNlIGlmICghZ2x1ZWQpIHsgLy91cGR3YXJkIHNjcm9sbFxuICAgICAgICAkKCcjbmF2aWdhdGlvbicpLmFkZENsYXNzKCdpbi12aWV3Jyk7XG4gICAgICAgICQoJyNxdWlja05hdmlnYXRpb24nKS5hZGRDbGFzcygnaW4tdmlldycpO1xuICAgICAgfVxuXG4gICAgICBsYXN0U2Nyb2xsVG9wID0geTtcbiAgICB9KTtcblxuXG5cblxuICAgIFxuXG4gIH0pO1xufSggalF1ZXJ5ICkpO1xuIiwiIiwiKGZ1bmN0aW9uICgkKSB7XG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuXHRcdHZhciBwaG9uZSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY3cHgpXCIpO1xuXG5cdFx0JCgnLnBhY2thZ2UtdHJpZ2dlcicpLm9uKCdjbGljayB0YXAnLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHR2YXIgc2VydmljZSA9ICQoJyMnICArICQodGhpcykuYXR0cignZGF0YS1wYWNrYWdlJykpO1xuXHRcdFx0XG5cdFx0XHRpZiAocGhvbmUubWF0Y2hlcykge1xuXHRcdFx0XHQkKCdib2R5JykuYW5pbWF0ZSh7IFxuXHRcdFx0XHRcdHNjcm9sbFRvcDogc2VydmljZS5vZmZzZXQoKS50b3AgXG5cdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHNlcnZpY2UuaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSB7XG5cdFx0XHRcdFx0c2VydmljZS5zaWJsaW5ncygpLnNsaWRlVXAoNTAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvL1NpYmxpbmdzXG5cdFx0XHRcdFx0c2VydmljZS5zaWJsaW5ncygpLnNsaWRlVXAoNTAwKTtcblx0XHRcdFx0XHRzZXJ2aWNlLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuXHRcdFx0XHRcdC8vU2VydmljZVxuXHRcdFx0XHRcdHNlcnZpY2Uuc2xpZGVEb3duKDUwMClcblx0XHRcdFx0XHRzZXJ2aWNlLmFkZENsYXNzKCdpcy1hY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0pO1xufSggalF1ZXJ5KSk7IiwiKGZ1bmN0aW9uICgkKSB7XG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuXHRcdCQoJ1tkYXRhLXNlcnZpY2VdJykub24oJ2NsaWNrIHRhcCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHQkKCcjc2VydmljZUlucHV0JykudmFsKCQodGhpcykuYXR0cignZGF0YS1zZXJ2aWNlJykpO1xuXHRcdH0pXG5cblxuXHR9KTtcbn0oalF1ZXJ5KSkgIiwiIiwiaWYgKHdpbmRvdy5qUXVlcnkpIHsgIFxuICAgIC8vIGpRdWVyeSBpcyBsb2FkZWQgIFxuICAgIFxuICAgIC8vSW5pdGFsaXplIE1hdGVyaWFsaXplIFNoaXQgaGVyZSBcbiAgICAkKCcubW9kYWwtdHJpZ2dlcicpLmxlYW5Nb2RhbCgpO1xuXG4gICAgJCgnLm1vZGFsLXRyaWdnZXInKS5vbignY2xpY2sgdGFwJywgZnVuY3Rpb24gKCkge1xuICAgIFx0dmFyIGlkID0gJCh0aGlzKS5hdHRyKCdocmVmJylcbiAgICBcdCQoaWQpLm9wZW5Nb2RhbCgpO1xuICAgIH0pO1xuXHRcblx0JCgnLnNjcm9sbHNweScpLnNjcm9sbFNweSgpO1xuICBcbiAgICAgIFxuXHQvLyAkKCcuZHJvcGRvd24tYnV0dG9uJykuZHJvcGRvd24oe1xuXHQvLyBcdGJlbG93b3JpZ2luOiB0cnVlLFxuXHQvLyBcdGhvdmVyOiB0cnVlLFxuXHQvLyBcdGNvbnN0cmFpbndpZHRoOiBmYWxzZVxuXHQvLyB9KTtcblx0XG5cblx0ICQuYWpheFNldHVwKHtcblx0XHRoZWFkZXJzOiB7ICdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykudmFsKCkgfVxuXHQgfSk7XG5cblxuXHQgXG5cdCBcblxufSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZygnanF1ZXJ5IGlzIG5vdCBsb2FkZWQnKTtcbn0iLCIhZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShlKTtlbHNle3ZhciB0O1widW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/dD13aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD90PWdsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmKHQ9c2VsZiksdC5TaGFyZUJ1dHRvbj1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQsbixvKXtmdW5jdGlvbiBpKHMsYSl7aWYoIW5bc10pe2lmKCF0W3NdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKHIpcmV0dXJuIHIocywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKX12YXIgdT1uW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbc11bMV1bZV07cmV0dXJuIGkobj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixvKX1yZXR1cm4gbltzXS5leHBvcnRzfWZvcih2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPG8ubGVuZ3RoO3MrKylpKG9bc10pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24oZSx0LG4pe2UoXCIuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvclwiKSx0LmV4cG9ydHM9ZShcIi4uLy4uL21vZHVsZXMvJC5jb3JlXCIpLkFycmF5LnZhbHVlc30se1wiLi4vLi4vbW9kdWxlcy8kLmNvcmVcIjo2LFwiLi4vLi4vbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3JcIjozNH1dLDI6W2Z1bmN0aW9uKGUsdCxuKXtlKFwiLi4vLi4vbW9kdWxlcy9lczYubWF0aC50cnVuY1wiKSx0LmV4cG9ydHM9ZShcIi4uLy4uL21vZHVsZXMvJC5jb3JlXCIpLk1hdGgudHJ1bmN9LHtcIi4uLy4uL21vZHVsZXMvJC5jb3JlXCI6NixcIi4uLy4uL21vZHVsZXMvZXM2Lm1hdGgudHJ1bmNcIjozNX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXtlKFwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sXCIpLHQuZXhwb3J0cz1lKFwiLi4vLi4vbW9kdWxlcy8kLmNvcmVcIikuU3ltYm9sfSx7XCIuLi8uLi9tb2R1bGVzLyQuY29yZVwiOjYsXCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2xcIjozNn1dLDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz1lKFwiLi8kLmlzLW9iamVjdFwiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW8oZSkpdGhyb3cgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdCFcIik7cmV0dXJuIGV9fSx7XCIuLyQuaXMtb2JqZWN0XCI6MTd9XSw1OltmdW5jdGlvbihlLHQsbil7dmFyIG89e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXQuZXhwb3J0cz17dmVyc2lvbjpcIjEuMi4zXCJ9O1wibnVtYmVyXCI9PXR5cGVvZiBfX2UmJihfX2U9byl9LHt9XSw3OltmdW5jdGlvbihlLHQsbil7dmFyIG89ZShcIi4vJC5nbG9iYWxcIiksaT1lKFwiLi8kLmNvcmVcIikscj1lKFwiLi8kLmhpZGVcIikscz1lKFwiLi8kLnJlZGVmXCIpLGE9XCJwcm90b3R5cGVcIixjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX0sdT1mdW5jdGlvbihlLHQsbil7dmFyIGwsZixkLGgscD1lJnUuRyxnPWUmdS5QLHk9cD9vOmUmdS5TP29bdF18fChvW3RdPXt9KToob1t0XXx8e30pW2FdLG09cD9pOmlbdF18fChpW3RdPXt9KTtwJiYobj10KTtmb3IobCBpbiBuKWY9IShlJnUuRikmJnkmJmwgaW4geSxkPShmP3k6bilbbF0saD1lJnUuQiYmZj9jKGQsbyk6ZyYmXCJmdW5jdGlvblwiPT10eXBlb2YgZD9jKEZ1bmN0aW9uLmNhbGwsZCk6ZCx5JiYhZiYmcyh5LGwsZCksbVtsXSE9ZCYmcihtLGwsaCksZyYmKChtW2FdfHwobVthXT17fSkpW2xdPWQpfTtvLmNvcmU9aSx1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHQuZXhwb3J0cz11fSx7XCIuLyQuY29yZVwiOjYsXCIuLyQuZ2xvYmFsXCI6MTIsXCIuLyQuaGlkZVwiOjE0LFwiLi8kLnJlZGVmXCI6MjZ9XSw4OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09ZSl0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgXCIrZSk7cmV0dXJuIGV9fSx7fV0sOTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyRcIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0S2V5cyhlKSxuPW8uZ2V0U3ltYm9scztpZihuKWZvcih2YXIgaSxyPW4oZSkscz1vLmlzRW51bSxhPTA7ci5sZW5ndGg+YTspcy5jYWxsKGUsaT1yW2ErK10pJiZ0LnB1c2goaSk7cmV0dXJuIHR9fSx7XCIuLyRcIjoyMn1dLDEwOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz17fS50b1N0cmluZyxpPWUoXCIuLyQudG8taW9iamVjdFwiKSxyPWUoXCIuLyRcIikuZ2V0TmFtZXMscz1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcz9PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpOltdLGE9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiByKGUpfWNhdGNoKHQpe3JldHVybiBzLnNsaWNlKCl9fTt0LmV4cG9ydHMuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBzJiZcIltvYmplY3QgV2luZG93XVwiPT1vLmNhbGwoZSk/YShlKTpyKGkoZSkpfX0se1wiLi8kXCI6MjIsXCIuLyQudG8taW9iamVjdFwiOjMwfV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz10LmV4cG9ydHM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XCJudW1iZXJcIj09dHlwZW9mIF9fZyYmKF9fZz1vKX0se31dLDEzOltmdW5jdGlvbihlLHQsbil7dmFyIG89e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uY2FsbChlLHQpfX0se31dLDE0OltmdW5jdGlvbihlLHQsbil7dmFyIG89ZShcIi4vJFwiKSxpPWUoXCIuLyQucHJvcGVydHktZGVzY1wiKTt0LmV4cG9ydHM9ZShcIi4vJC5zdXBwb3J0LWRlc2NcIik/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBvLnNldERlc2MoZSx0LGkoMSxuKSl9OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVt0XT1uLGV9fSx7XCIuLyRcIjoyMixcIi4vJC5wcm9wZXJ0eS1kZXNjXCI6MjUsXCIuLyQuc3VwcG9ydC1kZXNjXCI6Mjh9XSwxNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyQuY29mXCIpO3QuZXhwb3J0cz1PYmplY3QoXCJ6XCIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm5cIlN0cmluZ1wiPT1vKGUpP2Uuc3BsaXQoXCJcIik6T2JqZWN0KGUpfX0se1wiLi8kLmNvZlwiOjV9XSwxNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyQuY29mXCIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm5cIkFycmF5XCI9PW8oZSl9fSx7XCIuLyQuY29mXCI6NX1dLDE3OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlP251bGwhPT1lOlwiZnVuY3Rpb25cIj09dHlwZW9mIGV9fSx7fV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1lKFwiLi8kXCIpLGk9e307ZShcIi4vJC5oaWRlXCIpKGksZShcIi4vJC53a3NcIikoXCJpdGVyYXRvclwiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKHQsbixyKXt0LnByb3RvdHlwZT1vLmNyZWF0ZShpLHtuZXh0OmUoXCIuLyQucHJvcGVydHktZGVzY1wiKSgxLHIpfSksZShcIi4vJC50YWdcIikodCxuK1wiIEl0ZXJhdG9yXCIpfX0se1wiLi8kXCI6MjIsXCIuLyQuaGlkZVwiOjE0LFwiLi8kLnByb3BlcnR5LWRlc2NcIjoyNSxcIi4vJC50YWdcIjoyOSxcIi4vJC53a3NcIjozM31dLDE5OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89ZShcIi4vJC5saWJyYXJ5XCIpLGk9ZShcIi4vJC5kZWZcIikscj1lKFwiLi8kLnJlZGVmXCIpLHM9ZShcIi4vJC5oaWRlXCIpLGE9ZShcIi4vJC5oYXNcIiksYz1lKFwiLi8kLndrc1wiKShcIml0ZXJhdG9yXCIpLHU9ZShcIi4vJC5pdGVyYXRvcnNcIiksbD0hKFtdLmtleXMmJlwibmV4dFwiaW5bXS5rZXlzKCkpLGY9XCJAQGl0ZXJhdG9yXCIsZD1cImtleXNcIixoPVwidmFsdWVzXCIscD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxuLGcseSxtLHYsYil7ZShcIi4vJC5pdGVyLWNyZWF0ZVwiKShnLG4seSk7dmFyIGssdywkPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIGQ6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHRoaXMsZSl9O2Nhc2UgaDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcodGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHRoaXMsZSl9fSxfPW4rXCIgSXRlcmF0b3JcIixTPXQucHJvdG90eXBlLGo9U1tjXXx8U1tmXXx8bSYmU1ttXSx4PWp8fCQobSk7aWYoail7dmFyIE89ZShcIi4vJFwiKS5nZXRQcm90byh4LmNhbGwobmV3IHQpKTtlKFwiLi8kLnRhZ1wiKShPLF8sITApLCFvJiZhKFMsZikmJnMoTyxjLHApfWlmKCghb3x8YikmJnMoUyxjLHgpLHVbbl09eCx1W19dPXAsbSlpZihrPXt2YWx1ZXM6bT09aD94OiQoaCksa2V5czp2P3g6JChkKSxlbnRyaWVzOm0hPWg/eDokKFwiZW50cmllc1wiKX0sYilmb3IodyBpbiBrKXcgaW4gU3x8cihTLHcsa1t3XSk7ZWxzZSBpKGkuUCtpLkYqbCxuLGspfX0se1wiLi8kXCI6MjIsXCIuLyQuZGVmXCI6NyxcIi4vJC5oYXNcIjoxMyxcIi4vJC5oaWRlXCI6MTQsXCIuLyQuaXRlci1jcmVhdGVcIjoxOCxcIi4vJC5pdGVyYXRvcnNcIjoyMSxcIi4vJC5saWJyYXJ5XCI6MjQsXCIuLyQucmVkZWZcIjoyNixcIi4vJC50YWdcIjoyOSxcIi4vJC53a3NcIjozM31dLDIwOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDIxOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPXt9fSx7fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz1PYmplY3Q7dC5leHBvcnRzPXtjcmVhdGU6by5jcmVhdGUsZ2V0UHJvdG86by5nZXRQcm90b3R5cGVPZixpc0VudW06e30ucHJvcGVydHlJc0VudW1lcmFibGUsZ2V0RGVzYzpvLmdldE93blByb3BlcnR5RGVzY3JpcHRvcixzZXREZXNjOm8uZGVmaW5lUHJvcGVydHksc2V0RGVzY3M6by5kZWZpbmVQcm9wZXJ0aWVzLGdldEtleXM6by5rZXlzLGdldE5hbWVzOm8uZ2V0T3duUHJvcGVydHlOYW1lcyxnZXRTeW1ib2xzOm8uZ2V0T3duUHJvcGVydHlTeW1ib2xzLGVhY2g6W10uZm9yRWFjaH19LHt9XSwyMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyRcIiksaT1lKFwiLi8kLnRvLWlvYmplY3RcIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9aShlKSxzPW8uZ2V0S2V5cyhyKSxhPXMubGVuZ3RoLGM9MDthPmM7KWlmKHJbbj1zW2MrK11dPT09dClyZXR1cm4gbn19LHtcIi4vJFwiOjIyLFwiLi8kLnRvLWlvYmplY3RcIjozMH1dLDI0OltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPSExfSx7fV0sMjU6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz1lKFwiLi8kLmdsb2JhbFwiKSxpPWUoXCIuLyQuaGlkZVwiKSxyPWUoXCIuLyQudWlkXCIpKFwic3JjXCIpLHM9XCJ0b1N0cmluZ1wiLGE9RnVuY3Rpb25bc10sYz0oXCJcIithKS5zcGxpdChzKTtlKFwiLi8kLmNvcmVcIikuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gYS5jYWxsKGUpfSwodC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihuLmhhc093blByb3BlcnR5KHIpfHxpKG4scixlW3RdP1wiXCIrZVt0XTpjLmpvaW4oU3RyaW5nKHQpKSksbi5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIil8fGkobixcIm5hbWVcIix0KSksZT09PW8/ZVt0XT1uOihzfHxkZWxldGUgZVt0XSxpKGUsdCxuKSl9KShGdW5jdGlvbi5wcm90b3R5cGUscyxmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMmJnRoaXNbcl18fGEuY2FsbCh0aGlzKX0pfSx7XCIuLyQuY29yZVwiOjYsXCIuLyQuZ2xvYmFsXCI6MTIsXCIuLyQuaGlkZVwiOjE0LFwiLi8kLnVpZFwiOjMxfV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz1lKFwiLi8kLmdsb2JhbFwiKSxpPVwiX19jb3JlLWpzX3NoYXJlZF9fXCIscj1vW2ldfHwob1tpXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiByW2VdfHwocltlXT17fSl9fSx7XCIuLyQuZ2xvYmFsXCI6MTJ9XSwyODpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz0hZShcIi4vJC5mYWlsc1wiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0se1wiLi8kLmZhaWxzXCI6MTB9XSwyOTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyRcIikuc2V0RGVzYyxpPWUoXCIuLyQuaGFzXCIpLHI9ZShcIi4vJC53a3NcIikoXCJ0b1N0cmluZ1RhZ1wiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2UmJiFpKGU9bj9lOmUucHJvdG90eXBlLHIpJiZvKGUscix7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHtcIi4vJFwiOjIyLFwiLi8kLmhhc1wiOjEzLFwiLi8kLndrc1wiOjMzfV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgbz1lKFwiLi8kLmlvYmplY3RcIiksaT1lKFwiLi8kLmRlZmluZWRcIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvKGkoZSkpfX0se1wiLi8kLmRlZmluZWRcIjo4LFwiLi8kLmlvYmplY3RcIjoxNX1dLDMxOltmdW5jdGlvbihlLHQsbil7dmFyIG89MCxpPU1hdGgucmFuZG9tKCk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVyblwiU3ltYm9sKFwiLmNvbmNhdCh2b2lkIDA9PT1lP1wiXCI6ZSxcIilfXCIsKCsrbytpKS50b1N0cmluZygzNikpfX0se31dLDMyOltmdW5jdGlvbihlLHQsbil7dmFyIG89ZShcIi4vJC53a3NcIikoXCJ1bnNjb3BhYmxlc1wiKTt2b2lkIDA9PVtdW29dJiZlKFwiLi8kLmhpZGVcIikoQXJyYXkucHJvdG90eXBlLG8se30pLHQuZXhwb3J0cz1mdW5jdGlvbihlKXtbXVtvXVtlXT0hMH19LHtcIi4vJC5oaWRlXCI6MTQsXCIuLyQud2tzXCI6MzN9XSwzMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyQuc2hhcmVkXCIpKFwid2tzXCIpLGk9ZShcIi4vJC5nbG9iYWxcIikuU3ltYm9sO3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gb1t0XXx8KG9bdF09aSYmaVt0XXx8KGl8fGUoXCIuLyQudWlkXCIpKShcIlN5bWJvbC5cIit0KSl9fSx7XCIuLyQuZ2xvYmFsXCI6MTIsXCIuLyQuc2hhcmVkXCI6MjcsXCIuLyQudWlkXCI6MzF9XSwzNDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBvPWUoXCIuLyQudW5zY29wZVwiKSxpPWUoXCIuLyQuaXRlci1zdGVwXCIpLHI9ZShcIi4vJC5pdGVyYXRvcnNcIikscz1lKFwiLi8kLnRvLWlvYmplY3RcIik7ZShcIi4vJC5pdGVyLWRlZmluZVwiKShBcnJheSxcIkFycmF5XCIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxuPXRoaXMuX2krKztyZXR1cm4hZXx8bj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLGkoMSkpOlwia2V5c1wiPT10P2koMCxuKTpcInZhbHVlc1wiPT10P2koMCxlW25dKTppKDAsW24sZVtuXV0pfSxcInZhbHVlc1wiKSxyLkFyZ3VtZW50cz1yLkFycmF5LG8oXCJrZXlzXCIpLG8oXCJ2YWx1ZXNcIiksbyhcImVudHJpZXNcIil9LHtcIi4vJC5pdGVyLWRlZmluZVwiOjE5LFwiLi8kLml0ZXItc3RlcFwiOjIwLFwiLi8kLml0ZXJhdG9yc1wiOjIxLFwiLi8kLnRvLWlvYmplY3RcIjozMCxcIi4vJC51bnNjb3BlXCI6MzJ9XSwzNTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUoXCIuLyQuZGVmXCIpO28oby5TLFwiTWF0aFwiLHt0cnVuYzpmdW5jdGlvbihlKXtyZXR1cm4oZT4wP01hdGguZmxvb3I6TWF0aC5jZWlsKShlKX19KX0se1wiLi8kLmRlZlwiOjd9XSwzNjpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBvPWUoXCIuLyRcIiksaT1lKFwiLi8kLmdsb2JhbFwiKSxyPWUoXCIuLyQuaGFzXCIpLHM9ZShcIi4vJC5zdXBwb3J0LWRlc2NcIiksYT1lKFwiLi8kLmRlZlwiKSxjPWUoXCIuLyQucmVkZWZcIiksdT1lKFwiLi8kLmZhaWxzXCIpLGw9ZShcIi4vJC5zaGFyZWRcIiksZj1lKFwiLi8kLnRhZ1wiKSxkPWUoXCIuLyQudWlkXCIpLGg9ZShcIi4vJC53a3NcIikscD1lKFwiLi8kLmtleW9mXCIpLGc9ZShcIi4vJC5nZXQtbmFtZXNcIikseT1lKFwiLi8kLmVudW0ta2V5c1wiKSxtPWUoXCIuLyQuaXMtYXJyYXlcIiksdj1lKFwiLi8kLmFuLW9iamVjdFwiKSxiPWUoXCIuLyQudG8taW9iamVjdFwiKSxrPWUoXCIuLyQucHJvcGVydHktZGVzY1wiKSx3PW8uZ2V0RGVzYywkPW8uc2V0RGVzYyxfPW8uY3JlYXRlLFM9Zy5nZXQsaj1pLlN5bWJvbCx4PWkuSlNPTixPPXgmJnguc3RyaW5naWZ5LEM9ITEsUD1oKFwiX2hpZGRlblwiKSxMPW8uaXNFbnVtLEU9bChcInN5bWJvbC1yZWdpc3RyeVwiKSxGPWwoXCJzeW1ib2xzXCIpLEE9XCJmdW5jdGlvblwiPT10eXBlb2YgaixJPU9iamVjdC5wcm90b3R5cGUsTj1zJiZ1KGZ1bmN0aW9uKCl7cmV0dXJuIDchPV8oJCh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQodGhpcyxcImFcIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQsbil7dmFyIG89dyhJLHQpO28mJmRlbGV0ZSBJW3RdLCQoZSx0LG4pLG8mJmUhPT1JJiYkKEksdCxvKX06JCxUPWZ1bmN0aW9uKGUpe3ZhciB0PUZbZV09XyhqLnByb3RvdHlwZSk7cmV0dXJuIHQuX2s9ZSxzJiZDJiZOKEksZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtyKHRoaXMsUCkmJnIodGhpc1tQXSxlKSYmKHRoaXNbUF1bZV09ITEpLE4odGhpcyxlLGsoMSx0KSl9fSksdH0sQj1mdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZX0sRD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG4mJnIoRix0KT8obi5lbnVtZXJhYmxlPyhyKGUsUCkmJmVbUF1bdF0mJihlW1BdW3RdPSExKSxuPV8obix7ZW51bWVyYWJsZTprKDAsITEpfSkpOihyKGUsUCl8fCQoZSxQLGsoMSx7fSkpLGVbUF1bdF09ITApLE4oZSx0LG4pKTokKGUsdCxuKX0sTT1mdW5jdGlvbihlLHQpe3YoZSk7Zm9yKHZhciBuLG89eSh0PWIodCkpLGk9MCxyPW8ubGVuZ3RoO3I+aTspRChlLG49b1tpKytdLHRbbl0pO3JldHVybiBlfSxIPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/XyhlKTpNKF8oZSksdCl9LHE9ZnVuY3Rpb24oZSl7dmFyIHQ9TC5jYWxsKHRoaXMsZSk7cmV0dXJuIHR8fCFyKHRoaXMsZSl8fCFyKEYsZSl8fHIodGhpcyxQKSYmdGhpc1tQXVtlXT90OiEwfSxXPWZ1bmN0aW9uKGUsdCl7dmFyIG49dyhlPWIoZSksdCk7cmV0dXJuIW58fCFyKEYsdCl8fHIoZSxQKSYmZVtQXVt0XXx8KG4uZW51bWVyYWJsZT0hMCksbn0sej1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1TKGIoZSkpLG89W10saT0wO24ubGVuZ3RoPmk7KXIoRix0PW5baSsrXSl8fHQ9PVB8fG8ucHVzaCh0KTtyZXR1cm4gb30sVT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1TKGIoZSkpLG89W10saT0wO24ubGVuZ3RoPmk7KXIoRix0PW5baSsrXSkmJm8ucHVzaChGW3RdKTtyZXR1cm4gb30sUj1mdW5jdGlvbihlKXtmb3IodmFyIHQsbixvPVtlXSxpPTEscj1hcmd1bWVudHM7ci5sZW5ndGg+aTspby5wdXNoKHJbaSsrXSk7cmV0dXJuIHQ9b1sxXSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10KSwobnx8IW0odCkpJiYodD1mdW5jdGlvbihlLHQpe3JldHVybiBuJiYodD1uLmNhbGwodGhpcyxlLHQpKSxCKHQpP3ZvaWQgMDp0fSksb1sxXT10LE8uYXBwbHkoeCxvKX0sSj11KGZ1bmN0aW9uKCl7dmFyIGU9aigpO3JldHVyblwiW251bGxdXCIhPU8oW2VdKXx8XCJ7fVwiIT1PKHthOmV9KXx8XCJ7fVwiIT1PKE9iamVjdChlKSl9KTtBfHwoaj1mdW5jdGlvbigpe2lmKEIodGhpcykpdGhyb3cgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3JldHVybiBUKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyhqLnByb3RvdHlwZSxcInRvU3RyaW5nXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLEI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBqfSxvLmNyZWF0ZT1ILG8uaXNFbnVtPXEsby5nZXREZXNjPVcsby5zZXREZXNjPUQsby5zZXREZXNjcz1NLG8uZ2V0TmFtZXM9Zy5nZXQ9eixvLmdldFN5bWJvbHM9VSxzJiYhZShcIi4vJC5saWJyYXJ5XCIpJiZjKEksXCJwcm9wZXJ0eUlzRW51bWVyYWJsZVwiLHEsITApKTt2YXIgRz17XCJmb3JcIjpmdW5jdGlvbihlKXtyZXR1cm4gcihFLGUrPVwiXCIpP0VbZV06RVtlXT1qKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHAoRSxlKX0sdXNlU2V0dGVyOmZ1bmN0aW9uKCl7Qz0hMH0sdXNlU2ltcGxlOmZ1bmN0aW9uKCl7Qz0hMX19O28uZWFjaC5jYWxsKFwiaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXNcIi5zcGxpdChcIixcIiksZnVuY3Rpb24oZSl7dmFyIHQ9aChlKTtHW2VdPUE/dDpUKHQpfSksQz0hMCxhKGEuRythLlcse1N5bWJvbDpqfSksYShhLlMsXCJTeW1ib2xcIixHKSxhKGEuUythLkYqIUEsXCJPYmplY3RcIix7Y3JlYXRlOkgsZGVmaW5lUHJvcGVydHk6RCxkZWZpbmVQcm9wZXJ0aWVzOk0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOlcsZ2V0T3duUHJvcGVydHlOYW1lczp6LGdldE93blByb3BlcnR5U3ltYm9sczpVfSkseCYmYShhLlMrYS5GKighQXx8SiksXCJKU09OXCIse3N0cmluZ2lmeTpSfSksZihqLFwiU3ltYm9sXCIpLGYoTWF0aCxcIk1hdGhcIiwhMCksZihpLkpTT04sXCJKU09OXCIsITApfSx7XCIuLyRcIjoyMixcIi4vJC5hbi1vYmplY3RcIjo0LFwiLi8kLmRlZlwiOjcsXCIuLyQuZW51bS1rZXlzXCI6OSxcIi4vJC5mYWlsc1wiOjEwLFwiLi8kLmdldC1uYW1lc1wiOjExLFwiLi8kLmdsb2JhbFwiOjEyLFwiLi8kLmhhc1wiOjEzLFwiLi8kLmlzLWFycmF5XCI6MTYsXCIuLyQua2V5b2ZcIjoyMyxcIi4vJC5saWJyYXJ5XCI6MjQsXCIuLyQucHJvcGVydHktZGVzY1wiOjI1LFwiLi8kLnJlZGVmXCI6MjYsXCIuLyQuc2hhcmVkXCI6MjcsXCIuLyQuc3VwcG9ydC1kZXNjXCI6MjgsXCIuLyQudGFnXCI6MjksXCIuLyQudG8taW9iamVjdFwiOjMwLFwiLi8kLnVpZFwiOjMxLFwiLi8kLndrc1wiOjMzfV0sMzc6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gcihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiK3R5cGVvZiB0KTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCksYT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBvPSEwO287KXt2YXIgaT1lLHI9dCxzPW47bz0hMSxudWxsPT09aSYmKGk9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGkscik7aWYodm9pZCAwIT09YSl7aWYoXCJ2YWx1ZVwiaW4gYSlyZXR1cm4gYS52YWx1ZTt2YXIgYz1hLmdldDtyZXR1cm4gdm9pZCAwPT09Yz92b2lkIDA6Yy5jYWxsKHMpfXZhciB1PU9iamVjdC5nZXRQcm90b3R5cGVPZihpKTtpZihudWxsPT09dSlyZXR1cm4gdm9pZCAwO2U9dSx0PXIsbj1zLG89ITAsYT11PXZvaWQgMH19LGM9ZShcIi4vc2hhcmUtdXRpbHNcIiksdT1vKGMpO2UoXCJjb3JlLWpzL2ZuL3N5bWJvbFwiKSxlKFwiY29yZS1qcy9mbi9hcnJheS9pdGVyYXRvclwiKSxlKFwiY29yZS1qcy9mbi9tYXRoL3RydW5jXCIpO3ZhciBsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuKXtpKHRoaXMsdCksYShPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLFwiY29uc3RydWN0b3JcIix0aGlzKS5jYWxsKHRoaXMpLFwib2JqZWN0XCI9PXR5cGVvZiBlPyh0aGlzLmVsZW1lbnQ9dm9pZCAwLG49ZSk6dGhpcy5lbGVtZW50PWUsdGhpcy5lbD17aGVhZDpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0sYm9keTpkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF19LHRoaXMuY29uZmlnPXtlbmFibGVkTmV0d29ya3M6MCxwcm90b2NvbDpcIi8vXCIsdXJsOndpbmRvdy5sb2NhdGlvbi5ocmVmLGNhcHRpb246bnVsbCx0aXRsZTp0aGlzLl9kZWZhdWx0VGl0bGUoKSxpbWFnZTp0aGlzLl9kZWZhdWx0SW1hZ2UoKSxkZXNjcmlwdGlvbjp0aGlzLl9kZWZhdWx0RGVzY3JpcHRpb24oKSx1aTp7Zmx5b3V0Olwic2ItdG9wIHNiLWNlbnRlclwiLGJ1dHRvblRleHQ6XCJTaGFyZVwiLG5hbWVzcGFjZTpcInNiLVwiLG5ldHdvcmtPcmRlcjpbXSxjb2xsaXNpb246ITF9LG5ldHdvcmtzOntnb29nbGVQbHVzOntlbmFibGVkOiEwLHVybDpudWxsfSx0d2l0dGVyOntlbmFibGVkOiEwLHVybDpudWxsLGRlc2NyaXB0aW9uOm51bGx9LGZhY2Vib29rOntlbmFibGVkOiEwLGxvYWRTZGs6ITAsdXJsOm51bGwsYXBwSWQ6bnVsbCx0aXRsZTpudWxsLGNhcHRpb246bnVsbCxkZXNjcmlwdGlvbjpudWxsLGltYWdlOm51bGx9LHBpbnRlcmVzdDp7ZW5hYmxlZDohMCx1cmw6bnVsbCxpbWFnZTpudWxsLGRlc2NyaXB0aW9uOm51bGx9LHJlZGRpdDp7ZW5hYmxlZDohMCx1cmw6bnVsbCx0aXRsZTpudWxsfSxsaW5rZWRpbjp7ZW5hYmxlZDohMCx1cmw6bnVsbCx0aXRsZTpudWxsLGRlc2NyaXB0aW9uOm51bGx9LHdoYXRzYXBwOntlbmFibGVkOiEwLGRlc2NyaXB0aW9uOm51bGwsdXJsOm51bGx9LGVtYWlsOntlbmFibGVkOiEwLHRpdGxlOm51bGwsZGVzY3JpcHRpb246bnVsbH19fSx0aGlzLmxpc3RlbmVyPW51bGwsdGhpcy5fc2V0dXAodGhpcy5lbGVtZW50LG4pfXJldHVybiByKHQsZSkscyh0LFt7a2V5Olwib3BlblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcHVibGljKFwiT3BlblwiKX19LHtrZXk6XCJjbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fcHVibGljKFwiQ2xvc2VcIil9fSx7a2V5OlwidG9nZ2xlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wdWJsaWMoXCJUb2dnbGVcIil9fSx7a2V5OlwidG9nZ2xlTGlzdGVuXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9wdWJsaWMoXCJMaXN0ZW5cIil9fSx7a2V5OlwiX3B1YmxpY1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBuPXZvaWQgMDtuPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBlbGVtZW50P2EoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcIl9vYmpUb0FycmF5XCIsdGhpcykuY2FsbCh0aGlzLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2hhcmUtYnV0dG9uXCIpKTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnQpO3ZhciBvPSEwLGk9ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgcyxjPW5bU3ltYm9sLml0ZXJhdG9yXSgpOyEobz0ocz1jLm5leHQoKSkuZG9uZSk7bz0hMCl7dmFyIHU9cy52YWx1ZSxsPXUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJzb2NpYWxcIilbMF07dGhpc1tcIl9ldmVudFwiK2VdKHUsbCl9fWNhdGNoKGYpe2k9ITAscj1mfWZpbmFsbHl7dHJ5eyFvJiZjW1wicmV0dXJuXCJdJiZjW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZihpKXRocm93IHJ9fX19LHtrZXk6XCJfc2V0dXBcIix2YWx1ZTpmdW5jdGlvbihlLG4pe3ZhciBvPXZvaWQgMDtcInVuZGVmaW5lZFwiPT10eXBlb2YgZT9vPWEoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcIl9vYmpUb0FycmF5XCIsdGhpcykuY2FsbCh0aGlzLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2hhcmUtYnV0dG9uXCIpKToobz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic2hhcmUtYnV0dG9uXCIrZSksXCJvYmplY3RcIj09dHlwZW9mIG8mJihvPWEoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSxcIl9vYmpUb0FycmF5XCIsdGhpcykuY2FsbCh0aGlzLG8pKSksdGhpcy5fbWVyZ2UodGhpcy5jb25maWcsbiksdGhpcy5jb25maWcubmV0d29ya3Mud2hhdHNhcHAuZW5hYmxlZCYmIXRoaXMuX2lzTW9iaWxlKCkmJih0aGlzLmNvbmZpZy5uZXR3b3Jrcy53aGF0c2FwcC5lbmFibGVkPSExKSwwPT09dGhpcy5jb25maWcudWkubmV0d29ya09yZGVyLmxlbmd0aCYmKHRoaXMuY29uZmlnLnVpLm5ldHdvcmtPcmRlcj1bXCJwaW50ZXJlc3RcIixcInR3aXR0ZXJcIixcImZhY2Vib29rXCIsXCJ3aGF0c2FwcFwiLFwiZ29vZ2xlUGx1c1wiLFwicmVkZGl0XCIsXCJsaW5rZWRpblwiLFwiZW1haWxcIl0pO3ZhciBpPSEwLHI9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgYyx1PU9iamVjdC5rZXlzKHRoaXMuY29uZmlnLm5ldHdvcmtzKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShpPShjPXUubmV4dCgpKS5kb25lKTtpPSEwKXt2YXIgbD1jLnZhbHVlO3RoaXMuY29uZmlnLnVpLm5ldHdvcmtPcmRlci5pbmRleE9mKGwudG9TdHJpbmcoKSk8MCYmKHRoaXMuY29uZmlnLm5ldHdvcmtzW2xdLmVuYWJsZWQ9ITEsdGhpcy5jb25maWcudWkubmV0d29ya09yZGVyLnB1c2gobCkpfX1jYXRjaChmKXtyPSEwLHM9Zn1maW5hbGx5e3RyeXshaSYmdVtcInJldHVyblwiXSYmdVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYocil0aHJvdyBzfX10aGlzLl9maXhGbHlvdXQoKSx0aGlzLl9kZXRlY3ROZXR3b3JrcygpLHRoaXMuX25vcm1hbGl6ZU5ldHdvcmtDb25maWd1cmF0aW9uKCksdGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suZW5hYmxlZCYmdGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2subG9hZFNkayYmdGhpcy5faW5qZWN0RmFjZWJvb2tTZGsoKTt2YXIgZD0wLGg9ITAscD0hMSxnPXZvaWQgMDt0cnl7Zm9yKHZhciB5LG09b1tTeW1ib2wuaXRlcmF0b3JdKCk7IShoPSh5PW0ubmV4dCgpKS5kb25lKTtoPSEwKXt2YXIgdj15LnZhbHVlO3RoaXMuX3NldHVwSW5zdGFuY2UodixkKyspfX1jYXRjaChmKXtwPSEwLGc9Zn1maW5hbGx5e3RyeXshaCYmbVtcInJldHVyblwiXSYmbVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYocCl0aHJvdyBnfX19fSx7a2V5OlwiX3NldHVwSW5zdGFuY2VcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5faGlkZShlKSx0aGlzLl9hZGRDbGFzcyhlLFwic2hhcmVyLVwiK3QpLHRoaXMuX2luamVjdEh0bWwoZSksdGhpcy5fc2hvdyhlKTt2YXIgbz1lLmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wic29jaWFsXCIpWzBdLGk9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpO3RoaXMuX2FkZENsYXNzKG8sXCJuZXR3b3Jrcy1cIit0aGlzLmNvbmZpZy5lbmFibGVkTmV0d29ya3MpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5fZXZlbnRUb2dnbGUoZSxvKX0pO3ZhciByPWZ1bmN0aW9uKHQpe3ZhciBvPWlbdF07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG8mJiFmdW5jdGlvbigpe3ZhciB0PW8uZ2V0QXR0cmlidXRlKFwiZGF0YS1uZXR3b3JrXCIpLGk9by5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07bi5fYWRkQ2xhc3MobyxuLmNvbmZpZy5uZXR3b3Jrc1t0XVtcImNsYXNzXCJdKSxcImVtYWlsXCIhPT1vLmNsYXNzTmFtZSYmaS5zZXRBdHRyaWJ1dGUoXCJvbmNsaWNrXCIsXCJyZXR1cm4gZmFsc2VcIiksaS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtuLl9ob29rKFwiYmVmb3JlXCIsdCxlKX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixmdW5jdGlvbigpe25bXCJfbmV0d29ya1wiK3QuY2FwRkxldHRlcigpXShvKX0pLGkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtuLl9ob29rKFwiYWZ0ZXJcIix0LGUpfSl9KCl9O2Zvcih2YXIgcyBpbiBPYmplY3Qua2V5cyhpKSlyKHMpfX0se2tleTpcIl9ldmVudFRvZ2dsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5faGFzQ2xhc3ModCxcImFjdGl2ZVwiKT90aGlzLl9ldmVudENsb3NlKHQpOnRoaXMuX2V2ZW50T3BlbihlLHQpfX0se2tleTpcIl9ldmVudE9wZW5cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2hhc0NsYXNzKHQsXCJsb2FkXCIpJiZ0aGlzLl9yZW1vdmVDbGFzcyh0LFwibG9hZFwiKSx0aGlzLmNvbGxpc2lvbiYmdGhpcy5fY29sbGlzaW9uRGV0ZWN0aW9uKGUsdCksdGhpcy5fYWRkQ2xhc3ModCxcImFjdGl2ZVwiKX19LHtrZXk6XCJfZXZlbnRDbG9zZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX3JlbW92ZUNsYXNzKGUsXCJhY3RpdmVcIil9fSx7a2V5OlwiX2V2ZW50TGlzdGVuXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLG89dGhpcy5fZ2V0RGltZW5zaW9ucyhlLHQpO251bGw9PT10aGlzLmxpc3RlbmVyP3RoaXMubGlzdGVuZXI9d2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIG4uX2FkanVzdENsYXNzZXMoZSx0LG8pfSwxMDApOih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmxpc3RlbmVyKSx0aGlzLmxpc3RlbmVyPW51bGwpfX0se2tleTpcIl9maXhGbHlvdXRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY29uZmlnLnVpLmZseW91dC5zcGxpdChcIiBcIik7ZVswXS5zdWJzdHJpbmcoMCx0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UubGVuZ3RoKSE9PXRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZSYmKGVbMF09XCJcIit0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrZVswXSksZVsxXS5zdWJzdHJpbmcoMCx0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UubGVuZ3RoKSE9PXRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZSYmKGVbMV09XCJcIit0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrZVsxXSksdGhpcy5jb25maWcudWkuZmx5b3V0PWUuam9pbihcIiBcIil9fSx7a2V5OlwiX2NvbGxpc2lvbkRldGVjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxvPXRoaXMuX2dldERpbWVuc2lvbnMoZSx0KTt0aGlzLl9hZGp1c3RDbGFzc2VzKGUsdCxvKSxlLmNsYXNzTGlzdC5jb250YWlucyhcImNsaWNrZWRcIil8fCh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uX2FkanVzdENsYXNzZXMoZSxvKX0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5fYWRqdXN0Q2xhc3NlcyhlLG8pfSksZS5jbGFzc0xpc3QuYWRkKFwiY2xpY2tlZFwiKSl9fSx7a2V5OlwiX2dldERpbWVuc2lvbnNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybntuZXR3b3Jrc1dpZHRoOnQub2Zmc2V0V2lkdGgsYnV0dG9uSGVpZ2h0OmUub2Zmc2V0SGVpZ2h0LGJ1dHRvbldpZHRoOmUub2Zmc2V0V2lkdGh9fX0se2tleTpcIl9hZGp1c3RDbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXdpbmRvdy5pbm5lcldpZHRoLGk9d2luZG93LmlubmVySGVpZ2h0LHI9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0K24uYnV0dG9uV2lkdGgvMixzPW8tcixhPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wK24uYnV0dG9uSGVpZ2h0LzIsYz10aGlzLl9maW5kTG9jYXRpb24ocixhLG8saSk7aWYoXCJtaWRkbGVcIj09PWNbMV0mJlwiY2VudGVyXCIhPT1jWzBdJiYoXCJsZWZ0XCI9PT1jWzBdJiZvPD1yKzIyMCtuLmJ1dHRvbldpZHRoLzJ8fFwicmlnaHRcIj09PWNbMF0mJm88PXMrMjIwK24uYnV0dG9uV2lkdGgvMikpdC5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcInRvcFwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wibWlkZGxlXCIpLHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJib3R0b21cIik7ZWxzZXtzd2l0Y2goY1swXSl7Y2FzZVwibGVmdFwiOnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJyaWdodFwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wiY2VudGVyXCIpLHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJsZWZ0XCIpO2JyZWFrO2Nhc2VcImNlbnRlclwiOlwidG9wXCIhPT1jWzFdJiZ0LmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1widG9wXCIpLHQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJjZW50ZXJcIiksdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcImxlZnRcIiksdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcInJpZ2h0XCIpLHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJtaWRkbGVcIik7YnJlYWs7Y2FzZVwicmlnaHRcIjp0LmNsYXNzTGlzdC5hZGQodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wibGVmdFwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wiY2VudGVyXCIpLHQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJyaWdodFwiKX1zd2l0Y2goY1sxXSl7Y2FzZVwidG9wXCI6dC5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcImJvdHRvbVwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wibWlkZGxlXCIpLFwiY2VudGVyXCIhPT1jWzBdJiZ0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1widG9wXCIpO2JyZWFrO2Nhc2VcIm1pZGRsZVwiOlwiY2VudGVyXCIhPT1jWzBdJiYodC5jbGFzc0xpc3QuYWRkKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcIm1pZGRsZVwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1widG9wXCIpKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wiYm90dG9tXCIpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJ0b3BcIiksdC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY29uZmlnLnVpLm5hbWVzcGFjZStcIm1pZGRsZVwiKSx0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5jb25maWcudWkubmFtZXNwYWNlK1wiYm90dG9tXCIpfX19fSx7a2V5OlwiX2ZpbmRMb2NhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuLG8pe3ZhciBpPVtcImxlZnRcIixcImNlbnRlclwiLFwicmlnaHRcIl0scj1bXCJ0b3BcIixcIm1pZGRsZVwiLFwiYm90dG9tXCJdLHM9TWF0aC50cnVuYygzKigxLShuLWUpL24pKSxhPU1hdGgudHJ1bmMoMyooMS0oby10KS9vKSk7cmV0dXJuIHM+PTM/cz0yOi0xPj1zJiYocz0wKSxhPj0zP2E9MjotMT49YSYmKGE9MCksW2lbc10sclthXV19fSx7a2V5OlwiX25ldHdvcmtGYWNlYm9va1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbmZpZy5uZXR3b3Jrcy5mYWNlYm9vay5sb2FkU2RrP3dpbmRvdy5GQj8odGhpcy5fdXBkYXRlSHJlZihlLFwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwXCIse3U6dGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2sudXJsfSksRkIudWkoe21ldGhvZDpcImZlZWRcIixuYW1lOnRoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLnRpdGxlLGxpbms6dGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2sudXJsLHBpY3R1cmU6dGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suaW1hZ2UsY2FwdGlvbjp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5mYWNlYm9vay5jYXB0aW9uLGRlc2NyaXB0aW9uOnRoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLmRlc2NyaXB0aW9ufSkpOmNvbnNvbGUuZXJyb3IoXCJUaGUgRmFjZWJvb2sgSlMgU0RLIGhhc24ndCBsb2FkZWQgeWV0LlwiKTp0aGlzLl91cGRhdGVIcmVmKGUsXCJodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHBcIix7dTp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5mYWNlYm9vay51cmx9KX19LHtrZXk6XCJfbmV0d29ya1R3aXR0ZXJcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl91cGRhdGVIcmVmKGUsXCJodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldFwiLHt0ZXh0OnRoaXMuY29uZmlnLm5ldHdvcmtzLnR3aXR0ZXIuZGVzY3JpcHRpb24sdXJsOnRoaXMuY29uZmlnLm5ldHdvcmtzLnR3aXR0ZXIudXJsfSl9fSx7a2V5OlwiX25ldHdvcmtHb29nbGVQbHVzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdXBkYXRlSHJlZihlLFwiaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vc2hhcmVcIix7dXJsOnRoaXMuY29uZmlnLm5ldHdvcmtzLmdvb2dsZVBsdXMudXJsfSl9fSx7a2V5OlwiX25ldHdvcmtQaW50ZXJlc3RcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl91cGRhdGVIcmVmKGUsXCJodHRwczovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uXCIse3VybDp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5waW50ZXJlc3QudXJsLG1lZGlhOnRoaXMuY29uZmlnLm5ldHdvcmtzLnBpbnRlcmVzdC5pbWFnZSxkZXNjcmlwdGlvbjp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5waW50ZXJlc3QuZGVzY3JpcHRpb259KX19LHtrZXk6XCJfbmV0d29ya0xpbmtlZGluXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdXBkYXRlSHJlZihlLFwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL3NoYXJlQXJ0aWNsZVwiLHttaW5pOlwidHJ1ZVwiLHVybDp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5saW5rZWRpbi51cmwsdGl0bGU6dGhpcy5jb25maWcubmV0d29ya3MubGlua2VkaW4udGl0bGUsc3VtbWFyeTp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5saW5rZWRpbi5kZXNjcmlwdGlvbn0pfX0se2tleTpcIl9uZXR3b3JrRW1haWxcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl91cGRhdGVIcmVmKGUsXCJtYWlsdG86XCIse3N1YmplY3Q6dGhpcy5jb25maWcubmV0d29ya3MuZW1haWwudGl0bGUsYm9keTp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5lbWFpbC5kZXNjcmlwdGlvbn0pfX0se2tleTpcIl9uZXR3b3JrUmVkZGl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdXBkYXRlSHJlZihlLFwiaHR0cDovL3d3dy5yZWRkaXQuY29tL3N1Ym1pdFwiLHt1cmw6dGhpcy5jb25maWcubmV0d29ya3MucmVkZGl0LnVybCx0aXRsZTp0aGlzLmNvbmZpZy5uZXR3b3Jrcy5yZWRkaXQudGl0bGV9KX19LHtrZXk6XCJfbmV0d29ya1doYXRzYXBwXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fdXBkYXRlSHJlZihlLFwid2hhdHNhcHA6Ly9zZW5kXCIse3RleHQ6dGhpcy5jb25maWcubmV0d29ya3Mud2hhdHNhcHAuZGVzY3JpcHRpb24rXCIgXCIrdGhpcy5jb25maWcubmV0d29ya3Mud2hhdHNhcHAudXJsfSl9fSx7a2V5OlwiX2luamVjdFN0eWxlc2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5lbC5oZWFkLnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW2hyZWY9J1wiK2UrXCInXVwiKSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7dC5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcInN0eWxlc2hlZXRcIiksdC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsZSksdGhpcy5lbC5oZWFkLmFwcGVuZENoaWxkKHQpfX19LHtrZXk6XCJfaW5qZWN0SHRtbFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29uZmlnLnVpLm5ldHdvcmtPcmRlcixuPVwiXCIsbz0hMCxpPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIHMsYT10W1N5bWJvbC5pdGVyYXRvcl0oKTshKG89KHM9YS5uZXh0KCkpLmRvbmUpO289ITApe3ZhciBjPXMudmFsdWU7bis9XCI8bGkgY2xhc3M9J1wiK2MrXCInIGRhdGEtbmV0d29yaz0nXCIrYytcIic+PGE+PC9hPjwvbGk+XCJ9fWNhdGNoKHUpe2k9ITAscj11fWZpbmFsbHl7dHJ5eyFvJiZhW1wicmV0dXJuXCJdJiZhW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZihpKXRocm93IHJ9fWUuaW5uZXJIVE1MPXRoaXMuY29uZmlnLnVpLmJ1dHRvblRleHQrXCI8ZGl2IGNsYXNzPSdcIit0aGlzLmNvbmZpZy51aS5uYW1lc3BhY2UrXCJzb2NpYWwgbG9hZCBcIit0aGlzLmNvbmZpZy51aS5mbHlvdXQrXCInPjx1bD5cIituK1wiPC91bD48L2Rpdj5cIn19LHtrZXk6XCJfaW5qZWN0RmFjZWJvb2tTZGtcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF3aW5kb3cuRkImJnRoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLmFwcElkJiYhdGhpcy5lbC5ib2R5LnF1ZXJ5U2VsZWN0b3IoXCIjZmItcm9vdFwiKSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtlLnRleHQ9XCJ3aW5kb3cuZmJBc3luY0luaXQ9ZnVuY3Rpb24oKXtGQi5pbml0KHthcHBJZDonXCIrdGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suYXBwSWQrXCInLHN0YXR1czp0cnVlLHhmYm1sOnRydWV9KX07KGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodClbMF07aWYgKGUuZ2V0RWxlbWVudEJ5SWQobikpe3JldHVybn1yPWUuY3JlYXRlRWxlbWVudCh0KTtyLmlkPW47ci5zcmM9Jy8vY29ubmVjdC5mYWNlYm9vay5uZXQvZW5fVVMvYWxsLmpzJztpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsaSl9KShkb2N1bWVudCwnc2NyaXB0JywnZmFjZWJvb2stanNzZGsnKTtcIjt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuaWQ9XCJmYi1yb290XCIsdGhpcy5lbC5ib2R5LmFwcGVuZENoaWxkKHQpLHRoaXMuZWwuYm9keS5hcHBlbmRDaGlsZChlKX19fSx7a2V5OlwiX2hvb2tcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5jb25maWcubmV0d29ya3NbdF1bZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbyl7dmFyIGk9by5jYWxsKHRoaXMuY29uZmlnLm5ldHdvcmtzW3RdLG4pO3ZvaWQgMCE9PWkmJihpPXRoaXMuX25vcm1hbGl6ZUZpbHRlckNvbmZpZ1VwZGF0ZXMoaSksdGhpcy5leHRlbmQodGhpcy5jb25maWcubmV0d29ya3NbdF0saSwhMCksdGhpcy5fbm9ybWFsaXplTmV0d29ya0NvbmZpZ3VyYXRpb24oKSl9fX0se2tleTpcIl9kZWZhdWx0VGl0bGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMDtyZXR1cm4oZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwib2c6dGl0bGVcIl0nKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidHdpdHRlcjp0aXRsZVwiXScpKT9lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik6KGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInRpdGxlXCIpKT9lLnRleHRDb250ZW50fHxlLmlubmVyVGV4dDp2b2lkIDB9fSx7a2V5OlwiX2RlZmF1bHRJbWFnZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO3JldHVybihlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzppbWFnZVwiXScpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ0d2l0dGVyOmltYWdlXCJdJykpP2UuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTp2b2lkIDB9fSx7a2V5OlwiX2RlZmF1bHREZXNjcmlwdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO3JldHVybihlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiXScpfHxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ0d2l0dGVyOmRlc2NyaXB0aW9uXCJdJyl8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJykpP2UuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKTpcIlwifX0se2tleTpcIl9kZXRlY3ROZXR3b3Jrc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9ITAsdD0hMSxuPXZvaWQgMDt0cnl7Zm9yKHZhciBvLGk9T2JqZWN0LmtleXModGhpcy5jb25maWcubmV0d29ya3MpW1N5bWJvbC5pdGVyYXRvcl0oKTshKGU9KG89aS5uZXh0KCkpLmRvbmUpO2U9ITApe3ZhciByPW8udmFsdWUscz0hMCxhPSExLGM9dm9pZCAwO3RyeXtmb3IodmFyIHUsbD1PYmplY3Qua2V5cyh0aGlzLmNvbmZpZy5uZXR3b3Jrc1tyXSlbU3ltYm9sLml0ZXJhdG9yXSgpOyEocz0odT1sLm5leHQoKSkuZG9uZSk7cz0hMCl7dmFyIGY9dS52YWx1ZTtudWxsPT09dGhpcy5jb25maWcubmV0d29ya3Nbcl1bZl0mJih0aGlzLmNvbmZpZy5uZXR3b3Jrc1tyXVtmXT10aGlzLmNvbmZpZ1tmXSl9fWNhdGNoKGQpe2E9ITAsYz1kfWZpbmFsbHl7dHJ5eyFzJiZsW1wicmV0dXJuXCJdJiZsW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZihhKXRocm93IGN9fXRoaXMuY29uZmlnLm5ldHdvcmtzW3JdLmVuYWJsZWQ/KHRoaXNbXCJjbGFzc1wiXT1cImVuYWJsZWRcIix0aGlzLmNvbmZpZy5lbmFibGVkTmV0d29ya3MrPTEpOnRoaXNbXCJjbGFzc1wiXT1cImRpc2FibGVkXCIsdGhpcy5jb25maWcubmV0d29ya3Nbcl1bXCJjbGFzc1wiXT10aGlzW1wiY2xhc3NcIl19fWNhdGNoKGQpe3Q9ITAsbj1kfWZpbmFsbHl7dHJ5eyFlJiZpW1wicmV0dXJuXCJdJiZpW1wicmV0dXJuXCJdKCl9ZmluYWxseXtpZih0KXRocm93IG59fX19LHtrZXk6XCJfbm9ybWFsaXplTmV0d29ya0NvbmZpZ3VyYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLmFwcElkfHwodGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2subG9hZFNkaz0hMSksdGhpcy5jb25maWcubmV0d29ya3MudHdpdHRlci5kZXNjcmlwdGlvbiYmKHRoaXMuX2lzRW5jb2RlZCh0aGlzLmNvbmZpZy5uZXR3b3Jrcy50d2l0dGVyLmRlc2NyaXB0aW9uKXx8KHRoaXMuY29uZmlnLm5ldHdvcmtzLnR3aXR0ZXIuZGVzY3JpcHRpb249ZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY29uZmlnLm5ldHdvcmtzLnR3aXR0ZXIuZGVzY3JpcHRpb24pKSksXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLmFwcElkJiYodGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suYXBwSWQ9dGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suYXBwSWQudG9TdHJpbmcoKSl9fSx7a2V5OlwiX25vcm1hbGl6ZUZpbHRlckNvbmZpZ1VwZGF0ZXNcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb25maWcubmV0d29ya3MuZmFjZWJvb2suYXBwSWQhPT1lLmFwcElkJiYoY29uc29sZS53YXJuKFwiWW91IGFyZSB1bmFibGUgdG8gY2hhbmdlIHRoZSBGYWNlYm9vayBhcHBJZCBhZnRlciB0aGUgYnV0dG9uIGhhcyBiZWVuIGluaXRpYWxpemVkLiBQbGVhc2UgdXBkYXRlIHlvdXIgRmFjZWJvb2sgZmlsdGVycyBhY2NvcmRpbmdseS5cIiksZGVsZXRlIGUuYXBwSWQpLHRoaXMuY29uZmlnLm5ldHdvcmtzLmZhY2Vib29rLmxvYWRTZGshPT1lLmxvYWRTZGsmJihjb25zb2xlLndhcm4oXCJZb3UgYXJlIHVuYWJsZSB0byBjaGFuZ2UgdGhlIEZhY2Vib29rIGxvYWRTZGsgb3B0aW9uIGFmdGVyIHRoZSBidXR0b24gaGFzIGJlZW4gaW5pdGlhbGl6ZWQuIFBsZWFzZSB1cGRhdGUgeW91ciBGYWNlYm9vayBmaWx0ZXJzIGFjY29yZGluZ2x5LlwiKSxkZWxldGUgZS5hcHBJZCksZX19XSksdH0odVtcImRlZmF1bHRcIl0pO3QuZXhwb3J0cz1sfSx7XCIuL3NoYXJlLXV0aWxzXCI6MzgsXCJjb3JlLWpzL2ZuL2FycmF5L2l0ZXJhdG9yXCI6MSxcImNvcmUtanMvZm4vbWF0aC90cnVuY1wiOjIsXCJjb3JlLWpzL2ZuL3N5bWJvbFwiOjN9XSwzODpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSl9cmV0dXJuIGkoZSxbe2tleTpcIl9nZXRTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49XCJcIjtyZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/bj1kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsXCJcIikuZ2V0UHJvcGVydHlWYWx1ZSh0KTplLmN1cnJlbnRTdHlsZSYmKHQ9dC5yZXBsYWNlKC9cXC0oXFx3KS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pLG49ZS5jdXJyZW50U3R5bGVbdF0pLG59fSx7a2V5OlwiX2hpZGVcIix2YWx1ZTpmdW5jdGlvbihlKXtlLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9fSx7a2V5OlwiX3Nob3dcIix2YWx1ZTpmdW5jdGlvbihlKXtlLnN0eWxlLmRpc3BsYXk9XCJpbml0aWFsXCJ9fSx7a2V5OlwiX2hhc0NsYXNzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnModCl9fSx7a2V5OlwiX2FkZENsYXNzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTGlzdC5hZGQodCl9fSx7a2V5OlwiX3JlbW92ZUNsYXNzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTGlzdC5yZW1vdmUodCl9fSx7a2V5OlwiX2lzRW5jb2RlZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9SRkMzOTg2KCksZGVjb2RlVVJJQ29tcG9uZW50KGUpIT09ZX19LHtrZXk6XCJfZW5jb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGV8fG51bGw9PT1lfHx0aGlzLl9pc0VuY29kZWQoZSk/ZW5jb2RlVVJJQ29tcG9uZW50KGUpOmUudG9SRkMzOTg2KCl9fSx7a2V5OlwiX2dldFVybFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj0oYXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdPyExOmFyZ3VtZW50c1sxXSxhcmd1bWVudHMubGVuZ3RoPD0yfHx2b2lkIDA9PT1hcmd1bWVudHNbMl0/e306YXJndW1lbnRzWzJdKSxvPWZ1bmN0aW9uKCl7dmFyIGU9W10sbz0hMCxpPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIHMsYT1PYmplY3Qua2V5cyhuKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShvPShzPWEubmV4dCgpKS5kb25lKTtvPSEwKXt2YXIgYz1zLnZhbHVlLHU9bltjXTtlLnB1c2goYytcIj1cIit0Ll9lbmNvZGUodSkpfX1jYXRjaChsKXtpPSEwLHI9bH1maW5hbGx5e3RyeXshbyYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYoaSl0aHJvdyByfX1yZXR1cm4gZS5qb2luKFwiJlwiKX0oKTtyZXR1cm4gbyYmKG89XCI/XCIrbyksZStvfX0se2tleTpcIl91cGRhdGVIcmVmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXQuaW5kZXhPZihcIm1haWx0bzpcIik+PTAsaT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtpZihpLnNldEF0dHJpYnV0ZShcImhyZWZcIix0aGlzLl9nZXRVcmwodCwhbyxuKSksIShvfHx0aGlzLmNvbmZpZy5uZXR3b3Jrcy5mYWNlYm9vay5sb2FkU2RrJiZcImZhY2Vib29rXCI9PT1lLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpKSl7dmFyIHI9e3dpZHRoOjUwMCxoZWlnaHQ6MzUwfTtyLnRvcD1zY3JlZW4uaGVpZ2h0LzItci5oZWlnaHQvMixyLmxlZnQ9c2NyZWVuLndpZHRoLzItci53aWR0aC8yLHdpbmRvdy5vcGVuKGkuaHJlZixcInRhcmdldFdpbmRvd1wiLFwiXFxuICAgICAgICAgIHRvb2xiYXI9bm8sXFxuICAgICAgICAgIGxvY2F0aW9uPW5vLFxcbiAgICAgICAgICBzdGF0dXM9bm8sXFxuICAgICAgICAgIG1lbnViYXI9bm8sXFxuICAgICAgICAgIHNjcm9sbGJhcnM9eWVzLFxcbiAgICAgICAgICByZXNpemFibGU9eWVzLFxcbiAgICAgICAgICBsZWZ0PVwiK3IubGVmdCtcIixcXG4gICAgICAgICAgdG9wPVwiK3IudG9wK1wiLFxcbiAgICAgICAgICB3aWR0aD1cIityLndpZHRoK1wiLFxcbiAgICAgICAgICBoZWlnaHQ9XCIrci5oZWlnaHQrXCJcXG4gICAgICAgIFwiKX19fSx7a2V5OlwicG9wdXBcIix2YWx1ZTpmdW5jdGlvbiB0KGUpe3ZhciBuPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoPD0xfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/e306YXJndW1lbnRzWzFdLHQ9e3dpZHRoOjUwMCxoZWlnaHQ6MzUwfTt0LnRvcD1zY3JlZW4uaGVpZ2h0LzItdC5oZWlnaHQvMix0LmxlZnQ9c2NyZWVuLndpZHRoLzItdC53aWR0aC8yO3ZhciBpPWZ1bmN0aW9uKCl7dmFyIGU9W10sdD0hMCxpPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIHMsYT1PYmplY3Qua2V5cyhvKVtTeW1ib2wuaXRlcmF0b3JdKCk7ISh0PShzPWEubmV4dCgpKS5kb25lKTt0PSEwKXt2YXIgYz1zLnZhbHVlLHU9b1tjXTtlLnB1c2goYytcIj1cIituLl9lbmNvZGUodSkpfX1jYXRjaChsKXtpPSEwLHI9bH1maW5hbGx5e3RyeXshdCYmYVtcInJldHVyblwiXSYmYVtcInJldHVyblwiXSgpfWZpbmFsbHl7aWYoaSl0aHJvdyByfX1yZXR1cm4gZS5qb2luKFwiJlwiKX0oKTtpJiYoaT1cIj9cIitpKSx3aW5kb3cub3BlbihlK2ksXCJ0YXJnZXRXaW5kb3dcIixcIlxcbiAgICAgICAgdG9vbGJhcj1ubyxcXG4gICAgICAgIGxvY2F0aW9uPW5vLFxcbiAgICAgICAgc3RhdHVzPW5vLFxcbiAgICAgICAgbWVudWJhcj1ubyxcXG4gICAgICAgIHNjcm9sbGJhcnM9eWVzLFxcbiAgICAgICAgcmVzaXphYmxlPXllcyxcXG4gICAgICAgIGxlZnQ9XCIrdC5sZWZ0K1wiLFxcbiAgICAgICAgdG9wPVwiK3QudG9wK1wiLFxcbiAgICAgICAgd2lkdGg9XCIrdC53aWR0aCtcIixcXG4gICAgICAgIGhlaWdodD1cIit0LmhlaWdodCtcIlxcbiAgICAgIFwiKX19LHtrZXk6XCJfbWVyZ2VcIix2YWx1ZTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiB0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGUudG9TdHJpbmcoKX0sdH0oZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiIT10eXBlb2YgZSYmKGU9e30pO2Zvcih2YXIgbiBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPXRbbl07aWYoXCJvYmplY3RcIj09dHlwZW9mIG8pe2Vbbl09dGhpcy5fbWVyZ2UoZVtuXSxvKTtjb250aW51ZX1lW25dPW99Zm9yKHZhciBpPTIscj1hcmd1bWVudHMubGVuZ3RoO3I+aTtpKyspX21lcmdlKGUsYXJndW1lbnRzW2ldKTtyZXR1cm4gZX0pfSx7a2V5OlwiX29ialRvQXJyYXlcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlcIm9iamVjdFwiPT10eXBlb2YgZVtuXSYmdC5wdXNoKGVbbl0pO3JldHVybiB0fX0se2tleTpcIl9pc01vYmlsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWR8aVBob25lfFBoYW50b21KUy9pKSYmIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQb2R8aVBhZC9pKT8hMDohMX19XSksZX0oKTtTdHJpbmcucHJvdG90eXBlLnRvUkZDMzk4Nj1mdW5jdGlvbigpe3ZhciBlPWVuY29kZVVSSUNvbXBvbmVudCh0aGlzKTtlLnJlcGxhY2UoL1shJygpKl0vZyxmdW5jdGlvbihlKXtyZXR1cm5cIiVcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpfSl9LFN0cmluZy5wcm90b3R5cGUuY2FwRkxldHRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3RoaXMuc2xpY2UoMSl9LG5bXCJkZWZhdWx0XCJdPXIsdC5leHBvcnRzPW5bXCJkZWZhdWx0XCJdfSx7fV19LHt9LFszN10pKDM3KX0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
