(function ($) {	
  $(document).ready(function() {

  		$.ajax({
  			type: "GET",
  			url: '/api/v1/posts/byNumber/6'
		}).done(function (data) {
  			$.get('./js/templates/ArticleDisplay.mst', function (template) {
  				var articles = {
            "articles" : data.data
          }
  				
          var rendered = Mustache.render(template, articles);
  				$('#articleDisplay').html(rendered);
        });
  			
  		});


  		
 });
 

 }(jQuery));
(function ($) { 
  $(document).ready(function() {

      /*
    |--------------------------------------------------------------------------
    | Pop up the Article Footer on Scroll
    |--------------------------------------------------------------------------
    |
    */
   
   if ($('#articleContent').length !== 0) { 
      $(document).scroll(function (e) {
        
        
        var y = $(this).scrollTop();    
        var articleContent = $('#articleContent').position().top;
        var siteFooter = $('#siteFooter').position().top;

        
         //Content past 200
         if (y > articleContent + 200) {
              $('#articleFooter').addClass('active');
              
              //Footer comes from bottom
              if (y + window.innerHeight > siteFooter) {
                $('#articleFooter').removeClass('active');  
              }
            
            } else {
              $('#articleFooter').removeClass('active');
            }
        });


      //Submit the mailchimp form;
      $('#mailChimpSubscribe').on('submit', function (e) {
        e.preventDefault();

      });
    }

  });
 }(jQuery));

  

  

(function ($) {	
  $(document).ready(function() {

      var url = window.location.href;
      var text = $('.callout').text();
      
      var buildLink = function(url) {
        return 'http://twitter.com/share?url='+ url + '&text=' + text + ' - @McDanielRDN';
      } 

      var popup = function (url, height, width) {
         window.open(url,'1429735674908','width='+width+',height='+height+',toolbar=0,menubar=0,location=0,status=1,scrollbars=1,resizable=1,left=0,top=0');
      }

      $('.callout').append('<div class="callout__twitter"><i class="fa fa-twitter"></i> Tweet <div>')

      $('.callout__twitter').on('click', function (e) {
        e.preventDefault();
        popup(buildLink(url), 700, 500);
      })
  });
}( jQuery ));
(function ($) { 
  $(document).ready(function() {

		$('.collapsible').children('.collapsible-body').hide();

		$('.collapsible').children('.collapsible-header').on('click', function (e) {
			console.log('message');
			var next =  $(this).next('.collapsible-body')
			if (next.hasClass('active')) {
				next.removeClass('active').slideUp(500);
			} else {
				console.log('adding');
				next.addClass('active').slideDown(500);
			}
		})

  
  });
}( jQuery ));
(function ($) { 
  $(document).ready(function() {

    /**
     * Ajax for All Forms
    */
    $('form[data-remote]').on('submit', function (e) {
      e.preventDefault();
      var form = $(this);
      var method = form.find('input[name="method"]').val() || 'POST';
      var url = form.prop('action');


      $.ajax({
        type: method,
        url: url,
        data: form.serialize(),
        beforeSend: function () {
          showPreloader();
        }
      }).done(function () {
        showMessage('success');
      }).fail(function () {
          showMessage('error')
      })
    });


    //Submit on Modal Submit Button
    $('#modalSubmit').on('click tap', function (e) {
      $('form[data-remote]').submit();
    })




    /**
     * Show the Preloader
     * @return {DOM} 
     */
    var showPreloader = function () {
      $('.contact__submit').hide();
      $('.contact__preloader').show();
    };

    /**
     * Hide the Preloaded and SHow the Form
     * @return {DOM} 
     */
    var showFormButton = function () {
      $('.contact__submit').show();
      $('.contact__preloader').hide();
    }

    /**
     * Show the message based on Type
     * @param  {string} type 
     * @return {DOM}
     */
    var showMessage = function (type) { 
      var message = null;
     
      if (type === "success") {
        message = $('.contact__message').attr('data-success-message');
      } else {
        message = $('.contact__message').attr('data-error-message');
      }
      
      $('.contact__preloader').hide();
      $('.contact__message').html(message).show();
    }


 

    
    
  });
}( jQuery ));

  

(function ($) { 
  $(document).ready(function() {

  	$('#faqQuery').on('keyup', function (e) {
  		var query = $(e.target).val();
  		var _token = $(e.target).next('input').val();

      if (query === null) {
        $.ajax({
          type: "POST",
          url: 'api/v1/faqs/stared',
          data: { 
              'query' : query, 
              '_token' : _token 
           }
        }).done(function (data) {
            renderQuestion(data);
        });
      } else {
        $.ajax({
          type: "POST",
          url: 'api/v1/faqs/search',
          data: { 
              'query' : query, 
              '_token' : _token 
           }
        }).done(function (data) {
            renderQuestion(data);
        });
      }

  		
      var renderQuestion = function (data) {
          $.get('./js/templates/FaqQuestion.mst', function (template) {
            var faqs = {
              "faqs" : data
            }

            var rendered = Mustache.render(template, faqs);
            $('#faqQuestions').html(rendered);
          });
      }
  	})

  });
}( jQuery ));

  

/*
|--------------------------------------------------------------------------
| Javascript for Navigation
|--------------------------------------------------------------------------
|
|
*/
(function ($) {	
  $(document).ready(function() {

  /*
   |--------------------------------------------------------------------------
   | Main Menu
   |--------------------------------------------------------------------------
   |
   |
   */   

    /**
     * Make Logo click take you home
     */
    $('.logo').on('click', function () {
      window.location = "/";
    })

    

    /**
     * Open the Menu
     */
    $('#openMenu').on('click', function (e) {
      e.preventDefault();
      
      $(this).toggleClass('is-active');
      $('#navigation').toggleClass('is-active');
      $('.navigation__modal').toggleClass('is-active');
      $('body').toggleClass('nav-open');
    });


    /**
     * Close the Menu
     * @return 
     */
    $('.navigation__modal').on('click tap', function (e) {
      $(this).removeClass('is-active');
      $('#navigation').removeClass('is-active');
      $('#openMenu').removeClass('is-active');
      $('body').removeClass('nav-open');
    });


    /*
    |--------------------------------------------------------------------------
    | Drop Downs
    |--------------------------------------------------------------------------
    |
    |
    */
    var openMenu = null;

    //Have dropdowns operate on Click for Mobile.
    $('.Dropdown__trigger').on('tap', function (e) {
      e.preventDefault();
      dropDropDown($(this).attr('data-dropdown'));
    });

 
    /**
     * Drop the Dropdown
     * @param  {string} attr 
     * @return {DOM}      
     */
    var dropDropDown = function (attr) {
      var dropdown = $('#' + attr);

      if (dropdown.hasClass('is-active')) {
        dropdown.removeClass('is-active').slideUp(500);
      } else {
        dropdown.addClass('is-active').slideDown(500);
      }
    }


    /*
    |--------------------------------------------------------------------------
    | Scrolling Fixed Menu
    |--------------------------------------------------------------------------
    |
    |
    */

    //Add Fixed menu on Scroll  
    var lastScrollTop = 0;
    $(document).scroll(function (e) {
      var y = $(this).scrollTop();  
      var navigationOffset = $('#contentWrapper').position().top;
      
      var glued = $('#navigation').hasClass('glued');
      var fixed = $('#navigation').hasClass('fixed');

      if (y > navigationOffset-0 && !glued) {
        $('#navigation').addClass('fixed');
        $('body').addClass('nav-fixed');
      } else if (!glued) {
        $('#navigation').removeClass('fixed');
        $('body').removeClass('nav-fixed');
      }

      if (y > lastScrollTop && fixed && !glued) {   //downward Scroll
        $('#navigation').removeClass('in-view');  
        $('#quickNavigation').removeClass('in-view')
      } else if (!glued) { //updward scroll
        $('#navigation').addClass('in-view');
        $('#quickNavigation').addClass('in-view');
      }

      lastScrollTop = y;
    });




    

  });
}( jQuery ));

(function ($) {
	$(document).ready(function () {

		$('[data-service]').on('click tap', function (e) {
			e.preventDefault();
			$('#serviceInput').val($(this).attr('data-service'));
		})


	});
}(jQuery)) 

if (window.jQuery) {  
    // jQuery is loaded  
    
    //Initalize Materialize Shit here 
    $('.modal-trigger').leanModal();

    $('.modal-trigger').on('click tap', function () {
    	var id = $(this).attr('href')
    	$(id).openModal();
    });
	
	$('.scrollspy').scrollSpy();
  
      
	// $('.dropdown-button').dropdown({
	// 	beloworigin: true,
	// 	hover: true,
	// 	constrainwidth: false
	// });
	

	 $.ajaxSetup({
		headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').val() }
	 });


	 
	 

} else {
    console.log('jquery is not loaded');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFydGljbGVEaXNwbGF5LmpzIiwiQXJ0aWNsZUZvb3Rlci5qcyIsIkNhbGxvdXQuanMiLCJDb2xsYXNwaWJsZS5qcyIsIkNvbnRhY3RBamF4LmpzIiwiRkFRQWpheC5qcyIsIk5hdmlnYXRpb24uanMiLCJTZXRNb2RlbFNlcnZpY2UuanMiLCJmdWxsc2NyZWVuLmpzIiwiaW5pdGlhbGl6ZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMvSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1ZBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgkKSB7XHRcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgXHRcdCQuYWpheCh7XG4gIFx0XHRcdHR5cGU6IFwiR0VUXCIsXG4gIFx0XHRcdHVybDogJy9hcGkvdjEvcG9zdHMvYnlOdW1iZXIvNidcblx0XHR9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gIFx0XHRcdCQuZ2V0KCcuL2pzL3RlbXBsYXRlcy9BcnRpY2xlRGlzcGxheS5tc3QnLCBmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgXHRcdFx0XHR2YXIgYXJ0aWNsZXMgPSB7XG4gICAgICAgICAgICBcImFydGljbGVzXCIgOiBkYXRhLmRhdGFcbiAgICAgICAgICB9XG4gIFx0XHRcdFx0XG4gICAgICAgICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUucmVuZGVyKHRlbXBsYXRlLCBhcnRpY2xlcyk7XG4gIFx0XHRcdFx0JCgnI2FydGljbGVEaXNwbGF5JykuaHRtbChyZW5kZXJlZCk7XG4gICAgICAgIH0pO1xuICBcdFx0XHRcbiAgXHRcdH0pO1xuXG5cbiAgXHRcdFxuIH0pO1xuIFxuXG4gfShqUXVlcnkpKTsiLCIoZnVuY3Rpb24gKCQpIHsgXG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAvKlxuICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHwgUG9wIHVwIHRoZSBBcnRpY2xlIEZvb3RlciBvbiBTY3JvbGxcbiAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB8XG4gICAgKi9cbiAgIFxuICAgaWYgKCQoJyNhcnRpY2xlQ29udGVudCcpLmxlbmd0aCAhPT0gMCkgeyBcbiAgICAgICQoZG9jdW1lbnQpLnNjcm9sbChmdW5jdGlvbiAoZSkge1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHZhciB5ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTsgICAgXG4gICAgICAgIHZhciBhcnRpY2xlQ29udGVudCA9ICQoJyNhcnRpY2xlQ29udGVudCcpLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICB2YXIgc2l0ZUZvb3RlciA9ICQoJyNzaXRlRm9vdGVyJykucG9zaXRpb24oKS50b3A7XG5cbiAgICAgICAgXG4gICAgICAgICAvL0NvbnRlbnQgcGFzdCAyMDBcbiAgICAgICAgIGlmICh5ID4gYXJ0aWNsZUNvbnRlbnQgKyAyMDApIHtcbiAgICAgICAgICAgICAgJCgnI2FydGljbGVGb290ZXInKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvL0Zvb3RlciBjb21lcyBmcm9tIGJvdHRvbVxuICAgICAgICAgICAgICBpZiAoeSArIHdpbmRvdy5pbm5lckhlaWdodCA+IHNpdGVGb290ZXIpIHtcbiAgICAgICAgICAgICAgICAkKCcjYXJ0aWNsZUZvb3RlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICQoJyNhcnRpY2xlRm9vdGVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAvL1N1Ym1pdCB0aGUgbWFpbGNoaW1wIGZvcm07XG4gICAgICAkKCcjbWFpbENoaW1wU3Vic2NyaWJlJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgfSk7XG4gICAgfVxuXG4gIH0pO1xuIH0oalF1ZXJ5KSk7XG5cbiAgXG5cbiAgXG4iLCIoZnVuY3Rpb24gKCQpIHtcdFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgdmFyIHRleHQgPSAkKCcuY2FsbG91dCcpLnRleHQoKTtcbiAgICAgIFxuICAgICAgdmFyIGJ1aWxkTGluayA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICByZXR1cm4gJ2h0dHA6Ly90d2l0dGVyLmNvbS9zaGFyZT91cmw9JysgdXJsICsgJyZ0ZXh0PScgKyB0ZXh0ICsgJyAtIEBNY0RhbmllbFJETic7XG4gICAgICB9IFxuXG4gICAgICB2YXIgcG9wdXAgPSBmdW5jdGlvbiAodXJsLCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgICAgICB3aW5kb3cub3Blbih1cmwsJzE0Mjk3MzU2NzQ5MDgnLCd3aWR0aD0nK3dpZHRoKycsaGVpZ2h0PScraGVpZ2h0KycsdG9vbGJhcj0wLG1lbnViYXI9MCxsb2NhdGlvbj0wLHN0YXR1cz0xLHNjcm9sbGJhcnM9MSxyZXNpemFibGU9MSxsZWZ0PTAsdG9wPTAnKTtcbiAgICAgIH1cblxuICAgICAgJCgnLmNhbGxvdXQnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJjYWxsb3V0X190d2l0dGVyXCI+PGkgY2xhc3M9XCJmYSBmYS10d2l0dGVyXCI+PC9pPiBUd2VldCA8ZGl2PicpXG5cbiAgICAgICQoJy5jYWxsb3V0X190d2l0dGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBwb3B1cChidWlsZExpbmsodXJsKSwgNzAwLCA1MDApO1xuICAgICAgfSlcbiAgfSk7XG59KCBqUXVlcnkgKSk7IiwiKGZ1bmN0aW9uICgkKSB7IFxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcblxuXHRcdCQoJy5jb2xsYXBzaWJsZScpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtYm9keScpLmhpZGUoKTtcblxuXHRcdCQoJy5jb2xsYXBzaWJsZScpLmNoaWxkcmVuKCcuY29sbGFwc2libGUtaGVhZGVyJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdtZXNzYWdlJyk7XG5cdFx0XHR2YXIgbmV4dCA9ICAkKHRoaXMpLm5leHQoJy5jb2xsYXBzaWJsZS1ib2R5Jylcblx0XHRcdGlmIChuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkge1xuXHRcdFx0XHRuZXh0LnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5zbGlkZVVwKDUwMCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnYWRkaW5nJyk7XG5cdFx0XHRcdG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNsaWRlRG93big1MDApO1xuXHRcdFx0fVxuXHRcdH0pXG5cbiAgXG4gIH0pO1xufSggalF1ZXJ5ICkpOyIsIihmdW5jdGlvbiAoJCkgeyBcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBBamF4IGZvciBBbGwgRm9ybXNcbiAgICAqL1xuICAgICQoJ2Zvcm1bZGF0YS1yZW1vdGVdJykub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgZm9ybSA9ICQodGhpcyk7XG4gICAgICB2YXIgbWV0aG9kID0gZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibWV0aG9kXCJdJykudmFsKCkgfHwgJ1BPU1QnO1xuICAgICAgdmFyIHVybCA9IGZvcm0ucHJvcCgnYWN0aW9uJyk7XG5cblxuICAgICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogbWV0aG9kLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZGF0YTogZm9ybS5zZXJpYWxpemUoKSxcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNob3dQcmVsb2FkZXIoKTtcbiAgICAgICAgfVxuICAgICAgfSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNob3dNZXNzYWdlKCdzdWNjZXNzJyk7XG4gICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzaG93TWVzc2FnZSgnZXJyb3InKVxuICAgICAgfSlcbiAgICB9KTtcblxuXG4gICAgLy9TdWJtaXQgb24gTW9kYWwgU3VibWl0IEJ1dHRvblxuICAgICQoJyNtb2RhbFN1Ym1pdCcpLm9uKCdjbGljayB0YXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgJCgnZm9ybVtkYXRhLXJlbW90ZV0nKS5zdWJtaXQoKTtcbiAgICB9KVxuXG5cblxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgUHJlbG9hZGVyXG4gICAgICogQHJldHVybiB7RE9NfSBcbiAgICAgKi9cbiAgICB2YXIgc2hvd1ByZWxvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJy5jb250YWN0X19zdWJtaXQnKS5oaWRlKCk7XG4gICAgICAkKCcuY29udGFjdF9fcHJlbG9hZGVyJykuc2hvdygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSBQcmVsb2FkZWQgYW5kIFNIb3cgdGhlIEZvcm1cbiAgICAgKiBAcmV0dXJuIHtET019IFxuICAgICAqL1xuICAgIHZhciBzaG93Rm9ybUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQoJy5jb250YWN0X19zdWJtaXQnKS5zaG93KCk7XG4gICAgICAkKCcuY29udGFjdF9fcHJlbG9hZGVyJykuaGlkZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIG1lc3NhZ2UgYmFzZWQgb24gVHlwZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gdHlwZSBcbiAgICAgKiBAcmV0dXJuIHtET019XG4gICAgICovXG4gICAgdmFyIHNob3dNZXNzYWdlID0gZnVuY3Rpb24gKHR5cGUpIHsgXG4gICAgICB2YXIgbWVzc2FnZSA9IG51bGw7XG4gICAgIFxuICAgICAgaWYgKHR5cGUgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgIG1lc3NhZ2UgPSAkKCcuY29udGFjdF9fbWVzc2FnZScpLmF0dHIoJ2RhdGEtc3VjY2Vzcy1tZXNzYWdlJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gJCgnLmNvbnRhY3RfX21lc3NhZ2UnKS5hdHRyKCdkYXRhLWVycm9yLW1lc3NhZ2UnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgJCgnLmNvbnRhY3RfX3ByZWxvYWRlcicpLmhpZGUoKTtcbiAgICAgICQoJy5jb250YWN0X19tZXNzYWdlJykuaHRtbChtZXNzYWdlKS5zaG93KCk7XG4gICAgfVxuXG5cbiBcblxuICAgIFxuICAgIFxuICB9KTtcbn0oIGpRdWVyeSApKTtcblxuICBcbiIsIihmdW5jdGlvbiAoJCkgeyBcbiAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cbiAgXHQkKCcjZmFxUXVlcnknKS5vbigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICBcdFx0dmFyIHF1ZXJ5ID0gJChlLnRhcmdldCkudmFsKCk7XG4gIFx0XHR2YXIgX3Rva2VuID0gJChlLnRhcmdldCkubmV4dCgnaW5wdXQnKS52YWwoKTtcblxuICAgICAgaWYgKHF1ZXJ5ID09PSBudWxsKSB7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgdXJsOiAnYXBpL3YxL2ZhcXMvc3RhcmVkJyxcbiAgICAgICAgICBkYXRhOiB7IFxuICAgICAgICAgICAgICAncXVlcnknIDogcXVlcnksIFxuICAgICAgICAgICAgICAnX3Rva2VuJyA6IF90b2tlbiBcbiAgICAgICAgICAgfVxuICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZW5kZXJRdWVzdGlvbihkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgIHVybDogJ2FwaS92MS9mYXFzL3NlYXJjaCcsXG4gICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgICAgJ3F1ZXJ5JyA6IHF1ZXJ5LCBcbiAgICAgICAgICAgICAgJ190b2tlbicgOiBfdG9rZW4gXG4gICAgICAgICAgIH1cbiAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmVuZGVyUXVlc3Rpb24oZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gIFx0XHRcbiAgICAgIHZhciByZW5kZXJRdWVzdGlvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgJC5nZXQoJy4vanMvdGVtcGxhdGVzL0ZhcVF1ZXN0aW9uLm1zdCcsIGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGZhcXMgPSB7XG4gICAgICAgICAgICAgIFwiZmFxc1wiIDogZGF0YVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVuZGVyZWQgPSBNdXN0YWNoZS5yZW5kZXIodGVtcGxhdGUsIGZhcXMpO1xuICAgICAgICAgICAgJCgnI2ZhcVF1ZXN0aW9ucycpLmh0bWwocmVuZGVyZWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICBcdH0pXG5cbiAgfSk7XG59KCBqUXVlcnkgKSk7XG5cbiAgXG4iLCIvKlxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG58IEphdmFzY3JpcHQgZm9yIE5hdmlnYXRpb25cbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufFxufFxuKi9cbihmdW5jdGlvbiAoJCkge1x0XG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gIC8qXG4gICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIHwgTWFpbiBNZW51XG4gICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgIHxcbiAgIHxcbiAgICovICAgXG5cbiAgICAvKipcbiAgICAgKiBNYWtlIExvZ28gY2xpY2sgdGFrZSB5b3UgaG9tZVxuICAgICAqL1xuICAgICQoJy5sb2dvJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gXCIvXCI7XG4gICAgfSlcblxuICAgIFxuXG4gICAgLyoqXG4gICAgICogT3BlbiB0aGUgTWVudVxuICAgICAqL1xuICAgICQoJyNvcGVuTWVudScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnI25hdmlnYXRpb24nKS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAkKCcubmF2aWdhdGlvbl9fbW9kYWwnKS50b2dnbGVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ25hdi1vcGVuJyk7XG4gICAgfSk7XG5cblxuICAgIC8qKlxuICAgICAqIENsb3NlIHRoZSBNZW51XG4gICAgICogQHJldHVybiBcbiAgICAgKi9cbiAgICAkKCcubmF2aWdhdGlvbl9fbW9kYWwnKS5vbignY2xpY2sgdGFwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lzLWFjdGl2ZScpO1xuICAgICAgJCgnI25hdmlnYXRpb24nKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAkKCcjb3Blbk1lbnUnKS5yZW1vdmVDbGFzcygnaXMtYWN0aXZlJyk7XG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ25hdi1vcGVuJyk7XG4gICAgfSk7XG5cblxuICAgIC8qXG4gICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgfCBEcm9wIERvd25zXG4gICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgfFxuICAgIHxcbiAgICAqL1xuICAgIHZhciBvcGVuTWVudSA9IG51bGw7XG5cbiAgICAvL0hhdmUgZHJvcGRvd25zIG9wZXJhdGUgb24gQ2xpY2sgZm9yIE1vYmlsZS5cbiAgICAkKCcuRHJvcGRvd25fX3RyaWdnZXInKS5vbigndGFwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGRyb3BEcm9wRG93bigkKHRoaXMpLmF0dHIoJ2RhdGEtZHJvcGRvd24nKSk7XG4gICAgfSk7XG5cbiBcbiAgICAvKipcbiAgICAgKiBEcm9wIHRoZSBEcm9wZG93blxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gYXR0ciBcbiAgICAgKiBAcmV0dXJuIHtET019ICAgICAgXG4gICAgICovXG4gICAgdmFyIGRyb3BEcm9wRG93biA9IGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICB2YXIgZHJvcGRvd24gPSAkKCcjJyArIGF0dHIpO1xuXG4gICAgICBpZiAoZHJvcGRvd24uaGFzQ2xhc3MoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICAgIGRyb3Bkb3duLnJlbW92ZUNsYXNzKCdpcy1hY3RpdmUnKS5zbGlkZVVwKDUwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkcm9wZG93bi5hZGRDbGFzcygnaXMtYWN0aXZlJykuc2xpZGVEb3duKDUwMCk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvKlxuICAgIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHwgU2Nyb2xsaW5nIEZpeGVkIE1lbnVcbiAgICB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICB8XG4gICAgfFxuICAgICovXG5cbiAgICAvL0FkZCBGaXhlZCBtZW51IG9uIFNjcm9sbCAgXG4gICAgdmFyIGxhc3RTY3JvbGxUb3AgPSAwO1xuICAgICQoZG9jdW1lbnQpLnNjcm9sbChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHkgPSAkKHRoaXMpLnNjcm9sbFRvcCgpOyAgXG4gICAgICB2YXIgbmF2aWdhdGlvbk9mZnNldCA9ICQoJyNjb250ZW50V3JhcHBlcicpLnBvc2l0aW9uKCkudG9wO1xuICAgICAgXG4gICAgICB2YXIgZ2x1ZWQgPSAkKCcjbmF2aWdhdGlvbicpLmhhc0NsYXNzKCdnbHVlZCcpO1xuICAgICAgdmFyIGZpeGVkID0gJCgnI25hdmlnYXRpb24nKS5oYXNDbGFzcygnZml4ZWQnKTtcblxuICAgICAgaWYgKHkgPiBuYXZpZ2F0aW9uT2Zmc2V0LTAgJiYgIWdsdWVkKSB7XG4gICAgICAgICQoJyNuYXZpZ2F0aW9uJykuYWRkQ2xhc3MoJ2ZpeGVkJyk7XG4gICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnbmF2LWZpeGVkJyk7XG4gICAgICB9IGVsc2UgaWYgKCFnbHVlZCkge1xuICAgICAgICAkKCcjbmF2aWdhdGlvbicpLnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ25hdi1maXhlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoeSA+IGxhc3RTY3JvbGxUb3AgJiYgZml4ZWQgJiYgIWdsdWVkKSB7ICAgLy9kb3dud2FyZCBTY3JvbGxcbiAgICAgICAgJCgnI25hdmlnYXRpb24nKS5yZW1vdmVDbGFzcygnaW4tdmlldycpOyAgXG4gICAgICAgICQoJyNxdWlja05hdmlnYXRpb24nKS5yZW1vdmVDbGFzcygnaW4tdmlldycpXG4gICAgICB9IGVsc2UgaWYgKCFnbHVlZCkgeyAvL3VwZHdhcmQgc2Nyb2xsXG4gICAgICAgICQoJyNuYXZpZ2F0aW9uJykuYWRkQ2xhc3MoJ2luLXZpZXcnKTtcbiAgICAgICAgJCgnI3F1aWNrTmF2aWdhdGlvbicpLmFkZENsYXNzKCdpbi12aWV3Jyk7XG4gICAgICB9XG5cbiAgICAgIGxhc3RTY3JvbGxUb3AgPSB5O1xuICAgIH0pO1xuXG5cblxuXG4gICAgXG5cbiAgfSk7XG59KCBqUXVlcnkgKSk7XG4iLCIoZnVuY3Rpb24gKCQpIHtcblx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG5cdFx0JCgnW2RhdGEtc2VydmljZV0nKS5vbignY2xpY2sgdGFwJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdCQoJyNzZXJ2aWNlSW5wdXQnKS52YWwoJCh0aGlzKS5hdHRyKCdkYXRhLXNlcnZpY2UnKSk7XG5cdFx0fSlcblxuXG5cdH0pO1xufShqUXVlcnkpKSAiLCIiLCJpZiAod2luZG93LmpRdWVyeSkgeyAgXG4gICAgLy8galF1ZXJ5IGlzIGxvYWRlZCAgXG4gICAgXG4gICAgLy9Jbml0YWxpemUgTWF0ZXJpYWxpemUgU2hpdCBoZXJlIFxuICAgICQoJy5tb2RhbC10cmlnZ2VyJykubGVhbk1vZGFsKCk7XG5cbiAgICAkKCcubW9kYWwtdHJpZ2dlcicpLm9uKCdjbGljayB0YXAnLCBmdW5jdGlvbiAoKSB7XG4gICAgXHR2YXIgaWQgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKVxuICAgIFx0JChpZCkub3Blbk1vZGFsKCk7XG4gICAgfSk7XG5cdFxuXHQkKCcuc2Nyb2xsc3B5Jykuc2Nyb2xsU3B5KCk7XG4gIFxuICAgICAgXG5cdC8vICQoJy5kcm9wZG93bi1idXR0b24nKS5kcm9wZG93bih7XG5cdC8vIFx0YmVsb3dvcmlnaW46IHRydWUsXG5cdC8vIFx0aG92ZXI6IHRydWUsXG5cdC8vIFx0Y29uc3RyYWlud2lkdGg6IGZhbHNlXG5cdC8vIH0pO1xuXHRcblxuXHQgJC5hamF4U2V0dXAoe1xuXHRcdGhlYWRlcnM6IHsgJ1gtQ1NSRi1UT0tFTic6ICQoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKS52YWwoKSB9XG5cdCB9KTtcblxuXG5cdCBcblx0IFxuXG59IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCdqcXVlcnkgaXMgbm90IGxvYWRlZCcpO1xufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
